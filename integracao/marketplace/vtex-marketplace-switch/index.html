<!DOCTYPE HTML>
<html lang="en" >
    <!-- Start book VTEX Lab Docs -->
    <head>
        <!-- head:start -->
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=11; IE=10; IE=9; IE=8; IE=7; IE=EDGE" />
        <title>VTEX Marketplace Switch - Beta | VTEX Lab Docs</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 2.0.1">
        
        
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../../gitbook/images/apple-touch-icon-precomposed-152.png">
        <link rel="shortcut icon" href="../../../gitbook/images/favicon.ico" type="image/x-icon">
        
    
    
    <link rel="next" href="../../../plugins/lib/latest/expiration/index.html" />
    
    
    <link rel="prev" href="../../../integracao/marketplace/seller-não-vtex-com-pgto/index.html" />
    

        <!-- head:end -->
    </head>
    <body>
        <!-- body:start -->
        
    <link rel="stylesheet" href="../../../gitbook/style.css">
    
        
        <link rel="stylesheet" href="../../../gitbook/plugins/gitbook-plugin-anchors/plugin.css">
        
    
        
        <link rel="stylesheet" href="../../../gitbook/plugins/gitbook-plugin-toggle-chapters/toggle.css">
        
    
    
        <link rel="stylesheet" href="../../../styles/website.css">
    

        
    <div class="book" data-level="1.2.5" data-basepath="../../.." data-revision="Tue Sep 29 2015 17:30:48 GMT-0300 (E. South America Standard Time)">
    

<div class="book-summary">
    <div class="book-search">
        <input type="text" placeholder="Type to search" class="form-control" />
    </div>
    <ul class="summary">
        
        
        
        

        

        
    
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="../../../index.html">
                        <i class="fa fa-check"></i>
                        
                        Introduction
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="1" data-path="integracao/index.html">
            
                
                    <a href="../../../integracao/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.</b>
                        
                        Integração
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1" data-path="integracao/erp/index.html">
            
                
                    <a href="../../../integracao/erp/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.1.</b>
                        
                        ERP
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1.1" data-path="integracao/erp/catalogo-completo/index.html">
            
                
                    <a href="../../../integracao/erp/catalogo-completo/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.1.1.</b>
                        
                        Catálogo Completo
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="1.1.2" data-path="integracao/erp/catalogo-expresso/index.html">
            
                
                    <a href="../../../integracao/erp/catalogo-expresso/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.1.2.</b>
                        
                        Catálogo Expresso
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="1.1.3" data-path="integracao/erp/listas/index.html">
            
                
                    <a href="../../../integracao/erp/listas/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.1.3.</b>
                        
                        Listas
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="1.1.4" data-path="integracao/erp/pedido-e-tracking/index.html">
            
                
                    <a href="../../../integracao/erp/pedido-e-tracking/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.1.4.</b>
                        
                        Pedido e Tracking
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="integracao/marketplace/index.html">
            
                
                    <a href="../../../integracao/marketplace/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.2.</b>
                        
                        Marketplace
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="integracao/marketplace/canal-de-vendas-nao-vtex/index.html">
            
                
                    <a href="../../../integracao/marketplace/canal-de-vendas-nao-vtex/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.2.1.</b>
                        
                        Marketplace não VTEX
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="integracao/marketplace/canal-de-vendas-nao-vtex-com-pgto/index.html">
            
                
                    <a href="../../../integracao/marketplace/canal-de-vendas-nao-vtex-com-pgto/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.2.2.</b>
                        
                        Marketplace não VTEX c/ pagto
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="integracao/marketplace/seller-não-vtex/index.html">
            
                
                    <a href="../../../integracao/marketplace/seller-não-vtex/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.2.3.</b>
                        
                        Seller não VTEX
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="1.2.4" data-path="integracao/marketplace/seller-não-vtex-com-pgto/index.html">
            
                
                    <a href="../../../integracao/marketplace/seller-não-vtex-com-pgto/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.2.4.</b>
                        
                        Seller não VTEX c/ pagto
                    </a>
                
            
            
        </li>
    
        <li class="chapter active" data-level="1.2.5" data-path="integracao/marketplace/vtex-marketplace-switch/index.html">
            
                
                    <a href="../../../integracao/marketplace/vtex-marketplace-switch/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.2.5.</b>
                        
                        VTEX Marketplace Switch - Beta
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2" data-path="plugins/lib/latest/expiration/index.html">
            
                
                    <a href="../../../plugins/lib/latest/expiration/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.</b>
                        
                        Plugins
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="3" data-path="search/api/beta/search/index.html">
            
                
                    <a href="../../../search/api/beta/search/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.</b>
                        
                        Search
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="4" data-path="bridge/index.html">
            
                
                    <a href="../../../bridge/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.</b>
                        
                        Bridge
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.1" data-path="bridge/configuracoes-de-marketplace/index.html">
            
                
                    <a href="../../../bridge/configuracoes-de-marketplace/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.1.</b>
                        
                        Configurações de Marketplace
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.1.1" data-path="bridge/configuracoes-de-marketplace/b2w/index.html">
            
                
                    <a href="../../../bridge/configuracoes-de-marketplace/b2w/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.1.1.</b>
                        
                        B2W
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="4.1.2" data-path="bridge/configuracoes-de-marketplace/cnova/index.html">
            
                
                    <a href="../../../bridge/configuracoes-de-marketplace/cnova/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.1.2.</b>
                        
                        Cnova
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="4.1.3" data-path="bridge/configuracoes-de-marketplace/rakuten/index.html">
            
                
                    <a href="../../../bridge/configuracoes-de-marketplace/rakuten/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.1.3.</b>
                        
                        Rakuten
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="4.1.4" data-path="bridge/configuracoes-de-marketplace/buscape/index.html">
            
                
                    <a href="../../../bridge/configuracoes-de-marketplace/buscape/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.1.4.</b>
                        
                        Buscapé
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4.2" data-path="bridge/interface-de-pedidos/index.html">
            
                
                    <a href="../../../bridge/interface-de-pedidos/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.2.</b>
                        
                        Interface de Pedidos
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.2.1" data-path="bridge/interface-de-pedidos/analises-de-sucessos/index.html">
            
                
                    <a href="../../../bridge/interface-de-pedidos/analises-de-sucessos/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.2.1.</b>
                        
                        Análises de Sucessos
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="4.2.2" data-path="bridge/interface-de-pedidos/analises-de-erros/index.html">
            
                
                    <a href="../../../bridge/interface-de-pedidos/analises-de-erros/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.2.2.</b>
                        
                        Análises de Erros
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="4.2.3" data-path="bridge/interface-de-pedidos/reprocessamento-de-pedidos/index.html">
            
                
                    <a href="../../../bridge/interface-de-pedidos/reprocessamento-de-pedidos/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.2.3.</b>
                        
                        Reprocessamento de pedidos
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4.3" data-path="bridge/interface-de-produto/index.html">
            
                
                    <a href="../../../bridge/interface-de-produto/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.3.</b>
                        
                        Interface de Produtos
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.3.1" data-path="bridge/interface-de-produto/analises-de-sucessos/index.html">
            
                
                    <a href="../../../bridge/interface-de-produto/analises-de-sucessos/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.3.1.</b>
                        
                        Análises de Sucessos
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="4.3.2" data-path="bridge/interface-de-produto/analises-de-erros/index.html">
            
                
                    <a href="../../../bridge/interface-de-produto/analises-de-erros/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.3.2.</b>
                        
                        Análises de Erros
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="4.3.3" data-path="bridge/interface-de-produto/reprocessamento-de-produtos/index.html">
            
                
                    <a href="../../../bridge/interface-de-produto/reprocessamento-de-produtos/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.3.3.</b>
                        
                        Reprocessamento de produtos
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4.4" data-path="bridge/interface-de-tracking/index.html">
            
                
                    <a href="../../../bridge/interface-de-tracking/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.4.</b>
                        
                        Interface de Tracking
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.4.1" data-path="bridge/interface-de-tracking/analises-de-sucessos/index.html">
            
                
                    <a href="../../../bridge/interface-de-tracking/analises-de-sucessos/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.4.1.</b>
                        
                        Análises de Sucessos
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="4.4.2" data-path="bridge/interface-de-tracking/analises-de-erros/index.html">
            
                
                    <a href="../../../bridge/interface-de-tracking/analises-de-erros/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.4.2.</b>
                        
                        Análises de Erros
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="4.4.3" data-path="bridge/interface-de-tracking/reprocessamento-de-tracking/index.html">
            
                
                    <a href="../../../bridge/interface-de-tracking/reprocessamento-de-tracking/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.4.3.</b>
                        
                        Reprocessamento de Tracking
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4.5" data-path="bridge/interface-de-preco/index.html">
            
                
                    <a href="../../../bridge/interface-de-preco/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.5.</b>
                        
                        Interface de Preço
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.5.1" data-path="bridge/interface-de-preco/analises-de-sucessos/index.html">
            
                
                    <a href="../../../bridge/interface-de-preco/analises-de-sucessos/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.5.1.</b>
                        
                        Análises de Sucessos
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="4.5.2" data-path="bridge/interface-de-preco/analises-de-erro/index.html">
            
                
                    <a href="../../../bridge/interface-de-preco/analises-de-erro/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.5.2.</b>
                        
                        Análises de Erros
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="4.5.3" data-path="bridge/interface-de-preco/reprocessando-preco-com-erro/index.html">
            
                
                    <a href="../../../bridge/interface-de-preco/reprocessando-preco-com-erro/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.5.3.</b>
                        
                        Reprocessamento de Preço
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4.6" data-path="bridge/interface-de-estoque/index.html">
            
                
                    <a href="../../../bridge/interface-de-estoque/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.6.</b>
                        
                        Interface de Estoque
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.6.1" data-path="bridge/interface-de-estoque/analises-de-sucessos/index.html">
            
                
                    <a href="../../../bridge/interface-de-estoque/analises-de-sucessos/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.6.1.</b>
                        
                        Análises de Sucessos
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="4.6.2" data-path="bridge/interface-de-estoque/analises-de-erros/index.html">
            
                
                    <a href="../../../bridge/interface-de-estoque/analises-de-erros/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.6.2.</b>
                        
                        Análises de Erros
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="4.6.3" data-path="bridge/interface-de-estoque/reprocessamento-de-estoque-com-erro/index.html">
            
                
                    <a href="../../../bridge/interface-de-estoque/reprocessamento-de-estoque-com-erro/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.6.3.</b>
                        
                        Reprocessamento de Estoque
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="5" data-path="vtex.js/latest/index.html">
            
                
                    <a href="../../../vtex.js/latest/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.</b>
                        
                        vtex.js
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.1" data-path="vtex.js/latest/checkout/index.html">
            
                
                    <a href="../../../vtex.js/latest/checkout/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.1.</b>
                        
                        Checkout
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.1.1" data-path="vtex.js/latest/checkout/order-form.html">
            
                
                    <a href="../../../vtex.js/latest/checkout/order-form.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.1.1.</b>
                        
                        OrderForm
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="5.2" data-path="vtex.js/latest/catalog/index.html">
            
                
                    <a href="../../../vtex.js/latest/catalog/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.2.</b>
                        
                        Catálogo
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    


        
        <li class="divider"></li>
        <li>
            <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
                Published with GitBook
            </a>
        </li>
        
    </ul>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="book-header">
    <!-- Actions Left -->
    <a href="#" class="btn pull-left toggle-summary" aria-label="Table of Contents"><i class="fa fa-align-justify"></i></a>
    <a href="#" class="btn pull-left toggle-search" aria-label="Search"><i class="fa fa-search"></i></a>
    
    <div id="font-settings-wrapper" class="dropdown pull-left">
        <a href="#" class="btn toggle-dropdown" aria-label="Font Settings"><i class="fa fa-font"></i>
        </a>
        <div class="dropdown-menu font-settings">
    <div class="dropdown-caret">
        <span class="caret-outer"></span>
        <span class="caret-inner"></span>
    </div>

    <div class="buttons">
        <button type="button" id="reduce-font-size" class="button size-2">A</button>
        <button type="button" id="enlarge-font-size" class="button size-2">A</button>
    </div>

    <div class="buttons font-family-list">
        <button type="button" data-font="0" class="button">Serif</button>
        <button type="button" data-font="1" class="button">Sans</button>
    </div>

    <div class="buttons color-theme-list">
        <button type="button" id="color-theme-preview-0" class="button size-3" data-theme="0">White</button>
        <button type="button" id="color-theme-preview-1" class="button size-3" data-theme="1">Sepia</button>
        <button type="button" id="color-theme-preview-2" class="button size-3" data-theme="2">Night</button>
    </div>
</div>

    </div>

    <!-- Actions Right -->
    
    <div class="dropdown pull-right">
        <a href="#" class="btn toggle-dropdown" aria-label="Share"><i class="fa fa-share-alt"></i>
        </a>
        <div class="dropdown-menu font-settings dropdown-left">
            <div class="dropdown-caret">
                <span class="caret-outer"></span>
                <span class="caret-inner"></span>
            </div>
            <div class="buttons">
                <button type="button" data-sharing="twitter" class="button">
                    Share on Twitter
                </button>
                <button type="button" data-sharing="google-plus" class="button">
                    Share on Google
                </button>
                <button type="button" data-sharing="facebook" class="button">
                    Share on Facebook
                </button>
                <button type="button" data-sharing="weibo" class="button">
                    Share on Weibo
                </button>
                <button type="button" data-sharing="instapaper" class="button">
                    Share on Instapaper
                </button>
            </div>
        </div>
    </div>
    

    
    <a href="#" target="_blank" class="btn pull-right google-plus-sharing-link sharing-link" data-sharing="google-plus" aria-label="Google"><i class="fa fa-google-plus"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right facebook-sharing-link sharing-link" data-sharing="facebook" aria-label="Facebook"><i class="fa fa-facebook"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right twitter-sharing-link sharing-link" data-sharing="twitter" aria-label="Twitter"><i class="fa fa-twitter"></i></a>
    
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../../../" >VTEX Lab Docs</a>
    </h1>
</div>

            <div class="page-wrapper" tabindex="-1">
                <div class="page-inner">
                
                
                    <section class="normal" id="section-">
                    
                        <h2 id="marketplace-ou-aplicativos-vendendo-para-sellers-usando-o-vtex-marketplace-switch"><a name="marketplace-ou-aplicativos-vendendo-para-sellers-usando-o-vtex-marketplace-switch" class="plugin-anchor" href="#marketplace-ou-aplicativos-vendendo-para-sellers-usando-o-vtex-marketplace-switch"><span class="fa fa-link"></span></a>Marketplace ou Aplicativos vendendo para Sellers usando o VTEX Marketplace Switch</h2>
<p>Este documento tem por finalidade auxiliar na integra&#xE7;&#xE3;o de aplicativos com o <em>VTEX Marketplace Switch</em>. Este modelo contempla troca de catalogo, atualiza&#xE7;&#xE3;o de condi&#xE7;&#xE3;o comercial (pre&#xE7;o, estoque) de um <em>SKU</em>, al&#xE9;m de auxiliar na descida de pedido e traking de entrega.</p>
<blockquote>
<p>ALGUNS CONCEITOS:</p>
<blockquote>
<p><em>VTEX Marketplace Switch</em> = Concentrador de Sellers (lojas integradas ao Switch).<br>
<em>Aplicativos</em> = Afiliado, dono da vitrine (cara com o cliente final), respons&#xE1;vel por expor e vender o SKU.<br>
<em>SKU</em> = Item a ser trocado e vendido entre Marketplace e Seller.<br>
<em>Endpoint</em> = Ponto de acesso de um servi&#xE7;o na internet, servi&#xE7;o pronto para receber uma requisi&#xE7;&#xE3;o e devolver uma resposta.<br></p>
</blockquote>
</blockquote>
<h4 id="a%C3%A7%C3%B5es-que-dever%C3%A3o-ser-tomadas-pelo-aplicativo-n%C3%A3o-hospedado-na-vtex-para-implementa%C3%A7%C3%A3o-da-integra%C3%A7%C3%A3o"><a name="a%C3%A7%C3%B5es-que-dever%C3%A3o-ser-tomadas-pelo-aplicativo-n%C3%A3o-hospedado-na-vtex-para-implementa%C3%A7%C3%A3o-da-integra%C3%A7%C3%A3o" class="plugin-anchor" href="#a%C3%A7%C3%B5es-que-dever%C3%A3o-ser-tomadas-pelo-aplicativo-n%C3%A3o-hospedado-na-vtex-para-implementa%C3%A7%C3%A3o-da-integra%C3%A7%C3%A3o"><span class="fa fa-link"></span></a>A&#xE7;&#xF5;es que dever&#xE3;o ser tomadas pelo aplicativo n&#xE3;o hospedado na VTEX para implementa&#xE7;&#xE3;o da integra&#xE7;&#xE3;o:</h4>
<ol>
<li><p>Implementar o endpoint para receber notifica&#xE7;&#xE3;o de mudan&#xE7;a de pre&#xE7;o e estoque - VTEX Marketplace Switch vai chamar endpoint do aplicativo. Toda vez que o SKU mudar o pre&#xE7;o e ou o estoque no VTEX Marketplace Switch, o VTEX Marketplace Switch vai chamar esse endpoint do aplicativo, simplesmente comunicando a mudan&#xE7;a. Ao receber esse request o aplicativo vem buscar o pre&#xE7;o e estoque no VTEX Marketplace Switch no metodo de consulta politica comercial que vamos falar mais abaixo.</p>
<p><em>exemplo da chamada:</em><br>
<code>https://marketplace.com.br/api/notification/</code></p>
<p><a href="#a1">Exemplo Completo: Enviar Notifica&#xE7;&#xE3;o de Mudan&#xE7;a</a></p>
</li>
<li><p>Implementar busca de dados de SKU no VTEX Marketplace Switch - Aplicativo vai chamar endpoint do VTEX Marketplace Switch. Toda vez que o servi&#xE7;o de notifica&#xE7;&#xE3;o de mudan&#xE7;a do VTEX Marketplace Switch avisar sobre uma SKU, e o aplicativo ainda nao tem a SKU catalogada, o aplicativo vem no VTEX Marketplace Switch buscar os dados da SKU.</p>
<p><em>exemplo da chamada:</em><br>
<code>http://sandboxintegracao.vtexcommercestable.com.br/api/catalog_system/pvt/sku/stockkeepingunitbyid/310118183</code></p>
<p><a href="#a2">Exemplo Completo: Buscar Dados de SKU</a></p>
</li>
<li><p>Implementar busca de politica comercial (pre&#xE7;o e estoque, frete, tipo entrega e custo) - Aplicativo vai chamar endpoint do VTEX Marketplace Switch. Toda vez que o servi&#xE7;o de notifica&#xE7;&#xE3;o de mudan&#xE7;a do VTEX Marketplace Switch avisar sobre mudan&#xE7;a de uma SKU (j&#xE1; catalogada), o aplicativo busca pre&#xE7;o e ou estoque no VTEX Marketplace Switch pra se atualizar.</p>
<p><em>exemplo da chamada:</em><br>
<code>http://sandboxintegracao.vtexcommercestable.com.br/api/checkout/pub/orderForms/simulation?sc=1&amp;affiliateId=LBB</code></p>
<p><a href="#a3">Exemplo Completo: Consultar Pol&#xED;tica Comercial no VTEX Marketplace Switch</a>
<a href="#a8">Exemplo Completo: simula Carrinho no VTEX Marketplace Switch</a></p>
<blockquote>
<p>Os metodos de buscar condi&#xE7;&#xF5;es comerciais e simular carrinho s&#xE3;o os mesmos.</p>
</blockquote>
</li>
<li><p>Implementar rotina que coloca um pedido no VTEX Marketplace Switch - Aplicativo vai chamar endpoint do VTEX Marketplace Switch. O Aplicativo ir&#xE1; usar esse enpoint para colocar um pedido no VTEX Marketplace Switch.</p>
<p><em>exemplo da chamada:</em><br>
<code>https://sandboxintegracao.vtexcommercestable.com.br/api/checkout/pub/orders?sc=1&amp;affiliateId=LBB</code></p>
<p><a href="#a4">Exemplo Completo: Colocar um Pedido no VTEX Marketplace Switch</a></p>
</li>
<li><p>Implementar rotina que informa pagamento no VTEX Marketplace Switch - Aplicativo vai chamar endpoint do VTEX Marketplace Switch. O aplicativo ir&#xE1; usar esse enpoint para informar um pagamento no PCI gateway do VTEX Marketplace Switch.</p>
<p><em>exemplo da chamada:</em><br>
<code>https://sandboxintegracao.vtexpayments.com.br/split/564031077937/payments</code></p>
<p><a href="#a5">Exemplo Completo: Informa Pagamento no VTEX Marketplace Switch</a></p>
</li>
<li><p>Implementar rotina que informa sucesso na cria&#xE7;&#xE3;o do pedido no VTEX Marketplace Switch - Aplicativo vai chamar endpoint do VTEX Marketplace Switch. O aplicativo ir&#xE1; usar esse enpoint para fechar o processo de cria&#xE7;&#xE3;o de pedido do VTEX Marketplace Switch.</p>
<p><em>exemplo da chamada:</em><br>
<code>https://sandboxintegracao.vtexcommercestable.com.br/checkout/gatewayCallback/564032167396/Success</code></p>
<p><a href="#a6">Exemplo Completo: Finaliza Fluxo de Fechamento de Pedido no VTEX Marketplace Switch</a></p>
</li>
<li><p>Implementar rotina que informa sucesso na aprova&#xE7;&#xE3;o do pagamento no PCI gateway do VTEX Marketplace Switch - Aplicativo vai chamar endpoint do PCI gateway do VTEX Marketplace Switch. O aplicativo ir&#xE1; usar esse enpoint para aprovar o pagamento no PCI gateway do VTEX Marketplace Switch.</p>
<p><em>exemplo da chamada:</em><br>
<code>https://sandboxintegracao.vtexpayments.com.br/api/pvt/payments/C75C19DDC66F41A6B8EF8E06CBCC5C5F/payment-notification</code></p>
<p><a href="#a7">Exemplo Completo: Informa sucesso do pagamento PCI gateway do do VTEX Marketplace Switch</a></p>
</li>
<li><p>Ouve o feed de status de pedido - Endpoint do VTEX Marketplace Switch. O aplicativo deve se subescrever no feed de status de pedidos, ouvir e tratar o status que lhe interessa e confirmar os status que vai ignorar.</p>
<p><a href="#a9">Exemplo Completo: Ouvir feed de status de pedido</a><br></p>
</li>
</ol>
<hr>
<h3 id="abaixo-segue-o-exemplo-detalhado-de-cada-fluxo"><a name="abaixo-segue-o-exemplo-detalhado-de-cada-fluxo" class="plugin-anchor" href="#abaixo-segue-o-exemplo-detalhado-de-cada-fluxo"><span class="fa fa-link"></span></a>Abaixo segue o exemplo detalhado de cada fluxo:</h3>
<h3 id="troca-de-catalogo-de-sku-e-atualiza%C3%A7%C3%A3o-de-condi%C3%A7%C3%A3o-comercial-de-sku"><a name="troca-de-catalogo-de-sku-e-atualiza%C3%A7%C3%A3o-de-condi%C3%A7%C3%A3o-comercial-de-sku" class="plugin-anchor" href="#troca-de-catalogo-de-sku-e-atualiza%C3%A7%C3%A3o-de-condi%C3%A7%C3%A3o-comercial-de-sku"><span class="fa fa-link"></span></a>Troca de Catalogo de SKU e Atualiza&#xE7;&#xE3;o de Condi&#xE7;&#xE3;o Comercial de SKU</h3>
<ul>
<li><p>Dentro do VTEX Marketplace Switch, ser&#xE1; criado um *afiliado, que &#xE9; o interessado em receber o cat&#xE1;logo e as atualiza&#xE7;&#xF5;es de condi&#xE7;&#xF5;es comerciais.</p>
</li>
<li><p>O afiliado, dever&#xE1; implementar um endpoint onde receber&#xE1; informa&#xE7;&#xF5;es sobre altera&#xE7;&#xF5;es de condi&#xE7;&#xE3;o comercial de SKUs.</p>
</li>
<li><p>Na loja VTEX, cada vez que uma SKU comercializado pelo afiliado sofrer uma altera&#xE7;&#xE3;o na condi&#xE7;&#xE3;o comercial, ou for reindexado, o endpoint de notifica&#xE7;&#xE3;o do afiliado ser&#xE1; chamado.</p>
</li>
<li><p>Quando o afiliado recebe uma notifica&#xE7;&#xE3;o que um SKU mudou a condi&#xE7;&#xE3;o comercial, o afiliado deve checar se j&#xE1; comercializa aquela SKU daquela loja que comunicou.</p>
<ul>
<li><p><strong>Caso SIM</strong>: O afiliado consulta a condi&#xE7;&#xE3;o comercial no VTEX Marketplace Switch e se atualiza.</p>
</li>
<li><p><strong>Caso N&#xC3;O</strong>: O afiliado busca a SKU no VTEX Marketplace Switch, insere no seu catalogo, e depois repete o cen&#xE1;rio do &quot;Caso SIM&quot;.</p>
</li>
</ul>
</li>
</ul>
<blockquote>
<p>As requisi&#xE7;&#xF5;es de notifica&#xE7;&#xE3;o de mudan&#xE7;a devem ser tratadas assincronamente, ou seja, recebe a notifica&#xE7;&#xE3;o, coloca se numa fila, e depois processa, evitando assim a honera&#xE7;&#xE3;o dos sistemas envolvidos.</p>
</blockquote>
<p><a name="a1"></a></p>
<h3 id="notifica%C3%A7%C3%A3o-de-mudan%C3%A7a"><a name="notifica%C3%A7%C3%A3o-de-mudan%C3%A7a" class="plugin-anchor" href="#notifica%C3%A7%C3%A3o-de-mudan%C3%A7a"><span class="fa fa-link"></span></a>Notifica&#xE7;&#xE3;o de Mudan&#xE7;a</h3>
<p>Notifica o aplicativo que houve uma mudan&#xE7;a nas condi&#xE7;&#xF5;es comerciais (pre&#xE7;o, estoque, SLAs de entrega) de uma SKU - Endpoint do Afiliado (Aplicativo)</p>
<p>endpoint: <code>https://[endpointdoafiliado}/api/notification/</code><br>
verb: <strong>POST</strong><br>
Content-Type: <strong>application/json</strong><br>
Accept: <strong>application/json</strong><br></p>
<p><em>request:</em></p>
<pre><code class="lang-json">{
    <span class="hljs-string">&quot;IdSku&quot;</span> : <span class="hljs-string">&quot;1634&quot;</span>, <span class="hljs-comment">//id da sku da VTEX</span>
    <span class="hljs-string">&quot;An&quot;</span> : <span class="hljs-string">&quot;sandboxintegracao&quot;</span>, <span class="hljs-comment">//loja vtex</span>
    <span class="hljs-string">&quot;IdAffiliate&quot;</span>:<span class="hljs-string">&quot;PRT&quot;</span>, <span class="hljs-comment">// id do afilado cadastrado na loja vtex</span>
    <span class="hljs-string">&quot;StockModified&quot;</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">//mudou estoque?</span>
    <span class="hljs-string">&quot;PriceModified&quot;</span>: <span class="hljs-literal">true</span> <span class="hljs-comment">//mudou pre&#xE7;o?</span>
}
</code></pre>
<p><a name="a3"></a></p>
<h3 id="busca-de-condi%C3%A7%C3%B5es-comerciais"><a name="busca-de-condi%C3%A7%C3%B5es-comerciais" class="plugin-anchor" href="#busca-de-condi%C3%A7%C3%B5es-comerciais"><span class="fa fa-link"></span></a>Busca de Condi&#xE7;&#xF5;es Comerciais</h3>
<p>Acessa o VTEX Marketplace Switch pegando as condi&#xE7;&#xF5;es comerciais (pre&#xE7;o, estoque, SLAs de entrega) de uma SKU  - Endpoint do VTEX Marketplace Switch</p>
<p>endpoint: <code>https://sandboxintegracao.vtexcommercestable.com.br/api/checkout/pub/orderForms/simulation?sc=[idpoliticacomercial]&amp;affiliateId=[idafiliado]</code><br>
verb: <strong>POST</strong><br>
Content-Type: <strong>application/json</strong><br>
Accept: <strong>application/json</strong><br>
Parametro: <strong>sc</strong> // sc &#xE9; a politica comercial praticada<br>
Parametro: <strong>affiliateId</strong> // o id do afiliado cadastrado no VTEX Marketplace Switch<br></p>
<p><em>request:</em></p>
<pre><code class="lang-json">{
  <span class="hljs-string">&quot;items&quot;</span>: [ <span class="hljs-comment">// lista de itens</span>
    {
      <span class="hljs-string">&quot;id&quot;</span>: <span class="hljs-string">&quot;310118183&quot;</span>, <span class="hljs-comment">//identificado do SKU no Marketplace Switch</span>
      <span class="hljs-string">&quot;quantity&quot;</span>: <span class="hljs-number">1</span>, <span class="hljs-comment">// quantidade solicitada</span>
      <span class="hljs-string">&quot;seller&quot;</span>: <span class="hljs-string">&quot;netshoes&quot;</span> <span class="hljs-comment">//identificado do Seller no Marketplace Switch</span>
    },
    {
      <span class="hljs-string">&quot;id&quot;</span>: <span class="hljs-string">&quot;310118171&quot;</span>,
      <span class="hljs-string">&quot;quantity&quot;</span>: <span class="hljs-number">1</span>,
      <span class="hljs-string">&quot;seller&quot;</span>: <span class="hljs-string">&quot;fastshop&quot;</span>
    }
  ],
  <span class="hljs-string">&quot;postalCode&quot;</span>: <span class="hljs-literal">null</span>, <span class="hljs-comment">//opcional, CEP</span>
  <span class="hljs-string">&quot;country&quot;</span>: <span class="hljs-literal">null</span> <span class="hljs-comment">//opcional, sigla do pa&#xED;s</span>
}
</code></pre>
<p><em>response:</em></p>
<pre><code class="lang-json">{
  <span class="hljs-string">&quot;items&quot;</span>: [ <span class="hljs-comment">//lista de itens, caso os itens estiverem indispo&#xED;veis o retorn ser&#xE1; uma lisat vazia []</span>
    {
      <span class="hljs-string">&quot;id&quot;</span>: <span class="hljs-string">&quot;310118183&quot;</span>, <span class="hljs-comment">//identificado do SKU no Marketplace Switch</span>
      <span class="hljs-string">&quot;requestIndex&quot;</span>: <span class="hljs-number">0</span>,
      <span class="hljs-string">&quot;quantity&quot;</span>: <span class="hljs-number">1</span>, <span class="hljs-comment">//quantidade que consegue atender</span>
      <span class="hljs-string">&quot;seller&quot;</span>: <span class="hljs-string">&quot;netshoes&quot;</span>, <span class="hljs-comment">//identificado do Seller no Marketplace Switch</span>
      <span class="hljs-string">&quot;tax&quot;</span>: <span class="hljs-number">0</span>,
      <span class="hljs-string">&quot;priceValidUntil&quot;</span>: <span class="hljs-literal">null</span>,
      <span class="hljs-string">&quot;price&quot;</span>: <span class="hljs-number">31490</span>, <span class="hljs-comment">//pre&#xE7;o POR, pode ser nulo</span>
      <span class="hljs-string">&quot;listPrice&quot;</span>: <span class="hljs-number">31490</span>, <span class="hljs-comment">//pre&#xE7;o DE, pode ser nulo</span>
      <span class="hljs-string">&quot;sellingPrice&quot;</span>: <span class="hljs-number">31490</span>, <span class="hljs-comment">//pre&#xE7;o de venda</span>
      <span class="hljs-string">&quot;offerings&quot;</span>: [],
      <span class="hljs-string">&quot;priceTags&quot;</span>: [],
      <span class="hljs-string">&quot;measurementUnit&quot;</span>: <span class="hljs-string">&quot;un&quot;</span>,
      <span class="hljs-string">&quot;unitMultiplier&quot;</span>: <span class="hljs-number">1</span>
    },
    {
      <span class="hljs-string">&quot;id&quot;</span>: <span class="hljs-string">&quot;310118171&quot;</span>,
      <span class="hljs-string">&quot;requestIndex&quot;</span>: <span class="hljs-number">1</span>,
      <span class="hljs-string">&quot;quantity&quot;</span>: <span class="hljs-number">1</span>,
      <span class="hljs-string">&quot;seller&quot;</span>: <span class="hljs-string">&quot;fastshop&quot;</span>,
      <span class="hljs-string">&quot;tax&quot;</span>: <span class="hljs-number">0</span>,
      <span class="hljs-string">&quot;priceValidUntil&quot;</span>: <span class="hljs-literal">null</span>,
      <span class="hljs-string">&quot;price&quot;</span>: <span class="hljs-number">28284</span>,
      <span class="hljs-string">&quot;listPrice&quot;</span>: <span class="hljs-number">28284</span>,
      <span class="hljs-string">&quot;sellingPrice&quot;</span>: <span class="hljs-number">28284</span>,
      <span class="hljs-string">&quot;offerings&quot;</span>: [],
      <span class="hljs-string">&quot;priceTags&quot;</span>: [],
      <span class="hljs-string">&quot;measurementUnit&quot;</span>: <span class="hljs-string">&quot;un&quot;</span>,
      <span class="hljs-string">&quot;unitMultiplier&quot;</span>: <span class="hljs-number">1</span>
    }
  ],
  <span class="hljs-string">&quot;ratesAndBenefitsData&quot;</span>: {
    <span class="hljs-string">&quot;attachmentId&quot;</span>: <span class="hljs-string">&quot;ratesAndBenefitsData&quot;</span>,
    <span class="hljs-string">&quot;rateAndBenefitsIdentifiers&quot;</span>: [],
    <span class="hljs-string">&quot;teaser&quot;</span>: []
  },
  <span class="hljs-string">&quot;paymentData&quot;</span>: {
    <span class="hljs-string">&quot;installmentOptions&quot;</span>: [
      {
        <span class="hljs-string">&quot;paymentSystem&quot;</span>: <span class="hljs-string">&quot;2&quot;</span>,
        <span class="hljs-string">&quot;bin&quot;</span>: <span class="hljs-literal">null</span>,
        <span class="hljs-string">&quot;paymentName&quot;</span>: <span class="hljs-string">&quot;Visa&quot;</span>,
        <span class="hljs-string">&quot;paymentGroupName&quot;</span>: <span class="hljs-string">&quot;creditCardPaymentGroup&quot;</span>,
        <span class="hljs-string">&quot;value&quot;</span>: <span class="hljs-number">59774</span>,
        <span class="hljs-string">&quot;installments&quot;</span>: [
          {
            <span class="hljs-string">&quot;count&quot;</span>: <span class="hljs-number">1</span>,
            <span class="hljs-string">&quot;hasInterestRate&quot;</span>: <span class="hljs-literal">false</span>,
            <span class="hljs-string">&quot;interestRate&quot;</span>: <span class="hljs-number">0</span>,
            <span class="hljs-string">&quot;value&quot;</span>: <span class="hljs-number">59774</span>,
            <span class="hljs-string">&quot;total&quot;</span>: <span class="hljs-number">59774</span>,
            <span class="hljs-string">&quot;sellerMerchantInstallments&quot;</span>: [
              {
                <span class="hljs-string">&quot;id&quot;</span>: <span class="hljs-string">&quot;SHOPFACILNETSHOES&quot;</span>,
                <span class="hljs-string">&quot;count&quot;</span>: <span class="hljs-number">1</span>,
                <span class="hljs-string">&quot;hasInterestRate&quot;</span>: <span class="hljs-literal">false</span>,
                <span class="hljs-string">&quot;interestRate&quot;</span>: <span class="hljs-number">0</span>,
                <span class="hljs-string">&quot;value&quot;</span>: <span class="hljs-number">31490</span>,
                <span class="hljs-string">&quot;total&quot;</span>: <span class="hljs-number">31490</span>
              },
              {
                <span class="hljs-string">&quot;id&quot;</span>: <span class="hljs-string">&quot;SHOPFACILFASTSHOP&quot;</span>,
                <span class="hljs-string">&quot;count&quot;</span>: <span class="hljs-number">1</span>,
                <span class="hljs-string">&quot;hasInterestRate&quot;</span>: <span class="hljs-literal">false</span>,
                <span class="hljs-string">&quot;interestRate&quot;</span>: <span class="hljs-number">0</span>,
                <span class="hljs-string">&quot;value&quot;</span>: <span class="hljs-number">28284</span>,
                <span class="hljs-string">&quot;total&quot;</span>: <span class="hljs-number">28284</span>
              }
            ]
          }
        ]
      }
    ],
    <span class="hljs-string">&quot;paymentSystems&quot;</span>: [
      {
        <span class="hljs-string">&quot;id&quot;</span>: <span class="hljs-number">2</span>,
        <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;Visa&quot;</span>,
        <span class="hljs-string">&quot;groupName&quot;</span>: <span class="hljs-string">&quot;creditCardPaymentGroup&quot;</span>,
        <span class="hljs-string">&quot;validator&quot;</span>: <span class="hljs-literal">null</span>,
        <span class="hljs-string">&quot;stringId&quot;</span>: <span class="hljs-string">&quot;2&quot;</span>,
        <span class="hljs-string">&quot;template&quot;</span>: <span class="hljs-string">&quot;creditCardPaymentGroup-template&quot;</span>,
        <span class="hljs-string">&quot;requiresDocument&quot;</span>: <span class="hljs-literal">true</span>,
        <span class="hljs-string">&quot;isCustom&quot;</span>: <span class="hljs-literal">false</span>,
        <span class="hljs-string">&quot;description&quot;</span>: <span class="hljs-literal">null</span>,
        <span class="hljs-string">&quot;requiresAuthentication&quot;</span>: <span class="hljs-literal">false</span>
      }
    ],
    <span class="hljs-string">&quot;payments&quot;</span>: [],
    <span class="hljs-string">&quot;giftCards&quot;</span>: [],
    <span class="hljs-string">&quot;giftCardMessages&quot;</span>: [],
    <span class="hljs-string">&quot;availableAccounts&quot;</span>: []
  },
  <span class="hljs-string">&quot;selectableGifts&quot;</span>: [],
  <span class="hljs-string">&quot;marketingData&quot;</span>: <span class="hljs-literal">null</span>,
  <span class="hljs-string">&quot;postalCode&quot;</span>: <span class="hljs-string">&quot;05577000&quot;</span>, <span class="hljs-comment">//CEP</span>
  <span class="hljs-string">&quot;country&quot;</span>: <span class="hljs-string">&quot;BRA&quot;</span>, <span class="hljs-comment">//sigla do pa&#xED;s</span>
  <span class="hljs-string">&quot;logisticsInfo&quot;</span>: [ <span class="hljs-comment">// lista de informa&#xE7;&#xE3;oes de lojistica</span>
    {
      <span class="hljs-string">&quot;itemIndex&quot;</span>: <span class="hljs-number">0</span>,
      <span class="hljs-string">&quot;stockBalance&quot;</span>: <span class="hljs-number">10</span>, <span class="hljs-comment">//estoque</span>
      <span class="hljs-string">&quot;quantity&quot;</span>: <span class="hljs-number">1</span>, <span class="hljs-comment">//quantidade atendida</span>
      <span class="hljs-string">&quot;shipsTo&quot;</span>: [],
      <span class="hljs-string">&quot;slas&quot;</span>: [] <span class="hljs-comment">// s&#xF3; retorna quando vier o CEP</span>
    },
    {
      <span class="hljs-string">&quot;itemIndex&quot;</span>: <span class="hljs-number">1</span>,
      <span class="hljs-string">&quot;stockBalance&quot;</span>: <span class="hljs-number">20</span>,
      <span class="hljs-string">&quot;quantity&quot;</span>: <span class="hljs-number">1</span>,
      <span class="hljs-string">&quot;shipsTo&quot;</span>: [],
      <span class="hljs-string">&quot;slas&quot;</span>: []
    }
  ],
  <span class="hljs-string">&quot;messages&quot;</span>: [] <span class="hljs-comment">//mensagens de n&#xE3;o conformidade.</span>
}
</code></pre>
<blockquote>
<p>Exemplo de messages</p>
<pre><code class="lang-json">    <span class="hljs-string">&quot;messages&quot;</span>: [
    {
      <span class="hljs-string">&quot;code&quot;</span>: <span class="hljs-string">&quot;cannotBeDelivered&quot;</span>,
      <span class="hljs-string">&quot;text&quot;</span>: <span class="hljs-string">&quot;O item Produto &#xDA;nico Sku Unico n&#xE3;o pode ser entregue para o CEP selecionado&quot;</span>,
      <span class="hljs-string">&quot;status&quot;</span>: <span class="hljs-string">&quot;error&quot;</span>
    }
  ]
</code></pre>
</blockquote>
<p><a name="a2"></a></p>
<h3 id="busca-informa%C3%A7%C3%B5es-de-uma-sku"><a name="busca-informa%C3%A7%C3%B5es-de-uma-sku" class="plugin-anchor" href="#busca-informa%C3%A7%C3%B5es-de-uma-sku"><span class="fa fa-link"></span></a>Busca Informa&#xE7;&#xF5;es de uma SKU</h3>
<p>Acessa o VTEX Marketplace Switch e busca dados de uma SKU - Endpoint do VTEX Marketplace Switch</p>
<p>endpoint: <code>http://[loja].vtexcommercestable.com.br/api/catalog_system/pvt/sku/stockkeepingunitbyid/[idsku]</code><br>
verb: <strong>GET</strong><br>
Accept: <strong>application/json</strong><br>
Parametro: <strong>idSku</strong> // identificador do SKU<br></p>
<p><em>response:</em></p>
<pre><code class="lang-json">{
    <span class="hljs-string">&quot;Id&quot;</span>: <span class="hljs-number">1634</span>, <span class="hljs-comment">//id da sku</span>
    <span class="hljs-string">&quot;ProductId&quot;</span>: <span class="hljs-number">1634</span>, <span class="hljs-comment">//id do produto pai da sku</span>
    <span class="hljs-string">&quot;NameComplete&quot;</span>: <span class="hljs-string">&quot;Primer Lisse Minute Clarins - Base Facial Alisadora 15ml&quot;</span>, <span class="hljs-comment">//nome completo</span>
    <span class="hljs-string">&quot;ProductName&quot;</span>: <span class="hljs-string">&quot;Primer Lisse Minute Clarins - Base Facial Alisadora&quot;</span>,
    <span class="hljs-string">&quot;ProductDescription&quot;</span>: <span class="hljs-string">&quot;&lt;strong&gt;Primer Lisse Minute&lt;/strong&gt; deixa a pele imediatante alisada e suave ao toque. O primer da &lt;strong&gt;Clarins&lt;/strong&gt; atenua as imperfei&#xE7;&#xF5;es e reduz a apar&#xEA;ncia dos poros. A pele fica linda a pronta para receber a make!&lt;/br&gt;Com o rosto limpo aplique o primer com os dedos ou com um pincel. Espalhe bem come&#xE7;ando pela zona T (testa, nariz e queixo) em dire&#xE7;&#xE3;o aos cantos externos do rosto.&quot;</span>,
    <span class="hljs-string">&quot;SkuName&quot;</span>: <span class="hljs-string">&quot;15ml&quot;</span>,<span class="hljs-comment">// nome da SKU</span>
    <span class="hljs-string">&quot;IsActive&quot;</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// est&#xE1; ativa?</span>
    <span class="hljs-string">&quot;IsTransported&quot;</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-string">&quot;IsInventoried&quot;</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-string">&quot;IsGiftCardRecharge&quot;</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-string">&quot;ImageUrl&quot;</span>: <span class="hljs-string">&quot;http://epocacosmeticos.vteximg.com.br/arquivos/ids/162097-55-55/primer-lisse-minute-15ml-clarins.jpg&quot;</span>,
    <span class="hljs-string">&quot;DetailUrl&quot;</span>: <span class="hljs-string">&quot;/primer-lisse-minute-clarins-base-facial-alisadora/p&quot;</span>, <span class="hljs-comment">//link do produto na loja</span>
    <span class="hljs-string">&quot;CSCIdentification&quot;</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-string">&quot;BrandId&quot;</span>: <span class="hljs-string">&quot;2000050&quot;</span>,<span class="hljs-comment">//identificador da marca</span>
    <span class="hljs-string">&quot;BrandName&quot;</span>: <span class="hljs-string">&quot;Clarins&quot;</span>, <span class="hljs-comment">//nome da marca</span>
    <span class="hljs-string">&quot;Dimension&quot;</span>: {<span class="hljs-comment">//dimens&#xF5;es</span>
        <span class="hljs-string">&quot;cubicweight&quot;</span>: <span class="hljs-number">0.2083</span>,
        <span class="hljs-string">&quot;height&quot;</span>: <span class="hljs-number">10</span>,
        <span class="hljs-string">&quot;length&quot;</span>: <span class="hljs-number">10</span>,
        <span class="hljs-string">&quot;weight&quot;</span>: <span class="hljs-number">100</span>,
        <span class="hljs-string">&quot;width&quot;</span>: <span class="hljs-number">10</span>
    },
    <span class="hljs-string">&quot;IsKit&quot;</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-string">&quot;KitItems&quot;</span>: [],
    <span class="hljs-string">&quot;Services&quot;</span>: [<span class="hljs-comment">//servi&#xE7;os</span>
        {
            <span class="hljs-string">&quot;Id&quot;</span>: <span class="hljs-number">1098</span>,
            <span class="hljs-string">&quot;Name&quot;</span>: <span class="hljs-string">&quot;Embalagem presente&quot;</span>,
            <span class="hljs-string">&quot;IsFile&quot;</span>: <span class="hljs-literal">false</span>,
            <span class="hljs-string">&quot;IsGiftCard&quot;</span>: <span class="hljs-literal">false</span>,
            <span class="hljs-string">&quot;IsRequired&quot;</span>: <span class="hljs-literal">false</span>,
            <span class="hljs-string">&quot;Options&quot;</span>: [
                {
                    <span class="hljs-string">&quot;Id&quot;</span>: <span class="hljs-number">1098</span>,<span class="hljs-comment">// identificador do servi&#xE7;o</span>
                    <span class="hljs-string">&quot;Name&quot;</span>: <span class="hljs-string">&quot;Embalagem presente&quot;</span>,<span class="hljs-comment">//nome do servi&#xE7;o</span>
                    <span class="hljs-string">&quot;Description&quot;</span>: <span class="hljs-string">&quot;Embalagem presente&quot;</span>,
                    <span class="hljs-string">&quot;PriceName&quot;</span>: <span class="hljs-string">&quot;Embalagem presente&quot;</span>,
                    <span class="hljs-string">&quot;ListPrice&quot;</span>: <span class="hljs-number">1</span>, <span class="hljs-comment">//pre&#xE7;o DE do servi&#xE7;o</span>
                    <span class="hljs-string">&quot;Price&quot;</span>: <span class="hljs-number">1</span> <span class="hljs-comment">//pre&#xE7;o POR do servi&#xE7;o</span>
                }
            ],
            <span class="hljs-string">&quot;Attachments&quot;</span>: []
        }
    ],
    <span class="hljs-string">&quot;Categories&quot;</span>: [],
    <span class="hljs-string">&quot;Attachments&quot;</span>: [],
    <span class="hljs-string">&quot;Collections&quot;</span>: [],
    <span class="hljs-string">&quot;SkuSellers&quot;</span>: [ <span class="hljs-comment">//lista de sellers que vende essa sku</span>
        {
            <span class="hljs-string">&quot;SkuCommercialOffer&quot;</span>: {
                <span class="hljs-string">&quot;DeliverySlaSamples&quot;</span>: [
                    {
                        <span class="hljs-string">&quot;Region&quot;</span>: {
                            <span class="hljs-string">&quot;Id&quot;</span>: <span class="hljs-string">&quot;1&quot;</span>,
                            <span class="hljs-string">&quot;Name&quot;</span>: <span class="hljs-string">&quot;RJ&quot;</span>,
                            <span class="hljs-string">&quot;CountryCode&quot;</span>: <span class="hljs-string">&quot;BRA&quot;</span>,
                            <span class="hljs-string">&quot;ZipCode&quot;</span>: <span class="hljs-string">&quot;22080010&quot;</span>
                        },
                        <span class="hljs-string">&quot;DeliverySlaPerTypes&quot;</span>: [
                            {
                                <span class="hljs-string">&quot;TypeName&quot;</span>: <span class="hljs-string">&quot;Normal&quot;</span>,
                                <span class="hljs-string">&quot;Price&quot;</span>: <span class="hljs-number">9.9</span>,
                                <span class="hljs-string">&quot;Time&quot;</span>: <span class="hljs-string">&quot;00:00:00&quot;</span>
                            }
                        ]
                    }
                ],
                <span class="hljs-string">&quot;Price&quot;</span>: <span class="hljs-number">174</span>,
                <span class="hljs-string">&quot;ListPrice&quot;</span>: <span class="hljs-number">174</span>,
                <span class="hljs-string">&quot;AvailableQuantity&quot;</span>: <span class="hljs-number">22</span>
            },
            <span class="hljs-string">&quot;SellerId&quot;</span>: <span class="hljs-string">&quot;1&quot;</span>,
            <span class="hljs-string">&quot;StockKeepingUnitId&quot;</span>: <span class="hljs-number">1634</span>,
            <span class="hljs-string">&quot;SellerStockKeepingUnitId&quot;</span>: <span class="hljs-string">&quot;1634&quot;</span>,
            <span class="hljs-string">&quot;IsActive&quot;</span>: <span class="hljs-literal">true</span>,
            <span class="hljs-string">&quot;FreightCommissionPercentage&quot;</span>: <span class="hljs-number">0</span>,
            <span class="hljs-string">&quot;ProductCommissionPercentage&quot;</span>: <span class="hljs-number">0</span>
        }
    ],
    <span class="hljs-string">&quot;SkuPriceSheet&quot;</span>: [],
    <span class="hljs-string">&quot;Images&quot;</span>: [ <span class="hljs-comment">//imagens, a primeira &#xE9; a principal</span>
        {
            <span class="hljs-string">&quot;ImageUrl&quot;</span>: <span class="hljs-string">&quot;http://epocacosmeticos.vteximg.com.br/arquivos/ids/162097/primer-lisse-minute-15ml-clarins.jpg&quot;</span>,
            <span class="hljs-string">&quot;ImageName&quot;</span>: <span class="hljs-literal">null</span>,
            <span class="hljs-string">&quot;FileId&quot;</span>: <span class="hljs-number">162097</span>
        }
    ],
    <span class="hljs-string">&quot;SkuSpecifications&quot;</span>: [ <span class="hljs-comment">//varia&#xE7;&#xF5;es</span>
        {
            <span class="hljs-string">&quot;FieldId&quot;</span>: <span class="hljs-number">283</span>,
            <span class="hljs-string">&quot;FieldName&quot;</span>: <span class="hljs-string">&quot;Varia&#xE7;&#xE3;o&quot;</span>,
            <span class="hljs-string">&quot;FieldValueIds&quot;</span>: [ <span class="hljs-comment">//identificador da varia&#xE7;&#xE3;o</span>
                <span class="hljs-number">2688</span>
            ],
            <span class="hljs-string">&quot;FieldValues&quot;</span>: [ <span class="hljs-comment">//valor da varia&#xE7;&#xE3;o</span>
                <span class="hljs-string">&quot;15ml&quot;</span>
            ]
        }
    ],
    <span class="hljs-string">&quot;ProductSpecifications&quot;</span>: [],
    <span class="hljs-string">&quot;ProductClustersIds&quot;</span>: <span class="hljs-string">&quot;135,149,150,151,152,153,154,155,156,157,158,159,160,161,219,310,358,366,406,407,408,451,473,480,486,525,535,546,549,552,561,569&quot;</span>,
    <span class="hljs-string">&quot;ProductCategoryIds&quot;</span>: <span class="hljs-string">&quot;/1000004/1000012/1000040/&quot;</span>, <span class="hljs-comment">//arvore de identificadores de categorias</span>
    <span class="hljs-string">&quot;ProductCategories&quot;</span>: {
        <span class="hljs-string">&quot;1000004&quot;</span>: <span class="hljs-string">&quot;Maquiagem&quot;</span>, <span class="hljs-comment">//identificador e nome da categoria</span>
        <span class="hljs-string">&quot;1000012&quot;</span>: <span class="hljs-string">&quot;Primer e Finalizador&quot;</span>,
        <span class="hljs-string">&quot;1000040&quot;</span>: <span class="hljs-string">&quot;Fixador da Maquiagem&quot;</span>
    },
    <span class="hljs-string">&quot;CommercialConditionId&quot;</span>: <span class="hljs-number">1</span>,
    <span class="hljs-string">&quot;RewardValue&quot;</span>: <span class="hljs-number">0</span>,
    <span class="hljs-string">&quot;AlternateIds&quot;</span>: {
        <span class="hljs-string">&quot;Ean&quot;</span>: <span class="hljs-string">&quot;3380814700219&quot;</span>,
        <span class="hljs-string">&quot;RefId&quot;</span>: <span class="hljs-string">&quot;005899&quot;</span>
    },
    <span class="hljs-string">&quot;AlternateIdValues&quot;</span>: [
        <span class="hljs-string">&quot;3380814700219&quot;</span>,
        <span class="hljs-string">&quot;005899&quot;</span>
    ],
    <span class="hljs-string">&quot;EstimatedDateArrival&quot;</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-string">&quot;MeasurementUnit&quot;</span>: <span class="hljs-string">&quot;un&quot;</span>,
    <span class="hljs-string">&quot;UnitMultiplier&quot;</span>: <span class="hljs-number">1</span>,
    <span class="hljs-string">&quot;InformationSource&quot;</span>: <span class="hljs-string">&quot;Indexer&quot;</span>,
    <span class="hljs-string">&quot;ModalType&quot;</span>: <span class="hljs-literal">null</span>
}
</code></pre>
<hr>
<h3 id="simula%C3%A7%C3%A3o-de-carrinho-e-informa%C3%A7%C3%A3o-de-pagamento"><a name="simula%C3%A7%C3%A3o-de-carrinho-e-informa%C3%A7%C3%A3o-de-pagamento" class="plugin-anchor" href="#simula%C3%A7%C3%A3o-de-carrinho-e-informa%C3%A7%C3%A3o-de-pagamento"><span class="fa fa-link"></span></a>Simula&#xE7;&#xE3;o de Carrinho e Informa&#xE7;&#xE3;o de Pagamento</h3>
<p>Este t&#xF3;pico tem por objetivo auxiliar o na simula&#xE7;&#xE3;o de carrinho entre um aplicativo e o VTEX Marketplace Switch.</p>
<h3 id="no-carrinho-e-no-pagamento"><a name="no-carrinho-e-no-pagamento" class="plugin-anchor" href="#no-carrinho-e-no-pagamento"><span class="fa fa-link"></span></a>No Carrinho e no Pagamento</h3>
<p>Quando um produto &#xE9; inserido no carrinho do aplicativo, ou faz se alguma edi&#xE7;&#xE3;o no carrinho, uma consulta de simula&#xE7;ao de carrinho dever&#xE1; ser feita no VTEX Marketplace Switch para checar a validade das condi&#xE7;&#xF5;es comerciais (pre&#xE7;o, estoque, frete e SLAs de entrega). Quando o cliente vai para o pagamento, uma outra simula&#xE7;&#xE3;o de carrinho dever&#xE1; ser realizada.</p>
<p><a name="a8"></a></p>
<h3 id="simula%C3%A7%C3%A3o-de-carrinho"><a name="simula%C3%A7%C3%A3o-de-carrinho" class="plugin-anchor" href="#simula%C3%A7%C3%A3o-de-carrinho"><span class="fa fa-link"></span></a>Simula&#xE7;&#xE3;o de Carrinho</h3>
<p>Acessao VTEX Marketplace Switch simulando um carrinho, para checar as condi&#xE7;&#xF5;es comerciais e as SLAs de entrega - Endpoint do VTEX Marketplace Switch</p>
<p>endpoint: <code>https://[loja].vtexcommercestable.com.br/api/checkout/pub/orderForms/simulation?sc=[idcanal]&amp;affiliateId=[idafiliado]</code>
verb: <strong>POST</strong><br>
Content-Type: <strong>application/json</strong><br>
Accept: <strong>application/json</strong><br>
Parametro: <strong>sc</strong> // sc &#xE9; o canal de vendas<br>
Parametro: <strong>affiliateId</strong> // affiliateId &#xE9; o id do afiliado cadastrado na loja VTEX<br></p>
<p><em>request:</em></p>
<pre><code class="lang-json">{
  <span class="hljs-string">&quot;items&quot;</span>: [ <span class="hljs-comment">// lista de itens</span>
    {
      <span class="hljs-string">&quot;id&quot;</span>: <span class="hljs-string">&quot;310118183&quot;</span>, <span class="hljs-comment">//identificado do SKU no Marketplace Switch</span>
      <span class="hljs-string">&quot;quantity&quot;</span>: <span class="hljs-number">1</span>, <span class="hljs-comment">// quantidade solicitada</span>
      <span class="hljs-string">&quot;seller&quot;</span>: <span class="hljs-string">&quot;netshoes&quot;</span> <span class="hljs-comment">//identificado do Seller no Marketplace Switch</span>
    },
    {
      <span class="hljs-string">&quot;id&quot;</span>: <span class="hljs-string">&quot;310118171&quot;</span>,
      <span class="hljs-string">&quot;quantity&quot;</span>: <span class="hljs-number">1</span>,
      <span class="hljs-string">&quot;seller&quot;</span>: <span class="hljs-string">&quot;fastshop&quot;</span>
    }
  ],
  <span class="hljs-string">&quot;postalCode&quot;</span>: <span class="hljs-string">&quot;05577000&quot;</span>, <span class="hljs-comment">//opcional, CEP</span>
  <span class="hljs-string">&quot;country&quot;</span>: <span class="hljs-string">&quot;BRA&quot;</span> <span class="hljs-comment">//opcional, sigla do pa&#xED;s</span>
}
</code></pre>
<p><em>response:</em></p>
<pre><code class="lang-json">{
  <span class="hljs-string">&quot;items&quot;</span>: [ <span class="hljs-comment">//lista de itens, caso os itens estiverem indispo&#xED;veis o retorn ser&#xE1; uma lisat vazia []</span>
    {
      <span class="hljs-string">&quot;id&quot;</span>: <span class="hljs-string">&quot;310118183&quot;</span>, <span class="hljs-comment">//identificado do SKU no Marketplace Switch</span>
      <span class="hljs-string">&quot;requestIndex&quot;</span>: <span class="hljs-number">0</span>,
      <span class="hljs-string">&quot;quantity&quot;</span>: <span class="hljs-number">1</span>, <span class="hljs-comment">//quantidade que consegue atender</span>
      <span class="hljs-string">&quot;seller&quot;</span>: <span class="hljs-string">&quot;netshoes&quot;</span>, <span class="hljs-comment">//identificado do Seller no Marketplace Switch</span>
      <span class="hljs-string">&quot;tax&quot;</span>: <span class="hljs-number">0</span>,
      <span class="hljs-string">&quot;priceValidUntil&quot;</span>: <span class="hljs-literal">null</span>,
      <span class="hljs-string">&quot;price&quot;</span>: <span class="hljs-number">31490</span>, <span class="hljs-comment">//pre&#xE7;o POR, pode ser nulo</span>
      <span class="hljs-string">&quot;listPrice&quot;</span>: <span class="hljs-number">31490</span>, <span class="hljs-comment">//pre&#xE7;o DE, pode ser nulo</span>
      <span class="hljs-string">&quot;sellingPrice&quot;</span>: <span class="hljs-number">31490</span>, <span class="hljs-comment">//pre&#xE7;o de venda</span>
      <span class="hljs-string">&quot;offerings&quot;</span>: [],
      <span class="hljs-string">&quot;priceTags&quot;</span>: [],
      <span class="hljs-string">&quot;measurementUnit&quot;</span>: <span class="hljs-string">&quot;un&quot;</span>,
      <span class="hljs-string">&quot;unitMultiplier&quot;</span>: <span class="hljs-number">1</span>
    },
    {
      <span class="hljs-string">&quot;id&quot;</span>: <span class="hljs-string">&quot;310118171&quot;</span>,
      <span class="hljs-string">&quot;requestIndex&quot;</span>: <span class="hljs-number">1</span>,
      <span class="hljs-string">&quot;quantity&quot;</span>: <span class="hljs-number">1</span>,
      <span class="hljs-string">&quot;seller&quot;</span>: <span class="hljs-string">&quot;fastshop&quot;</span>,
      <span class="hljs-string">&quot;tax&quot;</span>: <span class="hljs-number">0</span>,
      <span class="hljs-string">&quot;priceValidUntil&quot;</span>: <span class="hljs-literal">null</span>,
      <span class="hljs-string">&quot;price&quot;</span>: <span class="hljs-number">28284</span>,
      <span class="hljs-string">&quot;listPrice&quot;</span>: <span class="hljs-number">28284</span>,
      <span class="hljs-string">&quot;sellingPrice&quot;</span>: <span class="hljs-number">28284</span>,
      <span class="hljs-string">&quot;offerings&quot;</span>: [],
      <span class="hljs-string">&quot;priceTags&quot;</span>: [],
      <span class="hljs-string">&quot;measurementUnit&quot;</span>: <span class="hljs-string">&quot;un&quot;</span>,
      <span class="hljs-string">&quot;unitMultiplier&quot;</span>: <span class="hljs-number">1</span>
    }
  ],
  <span class="hljs-string">&quot;ratesAndBenefitsData&quot;</span>: {
    <span class="hljs-string">&quot;attachmentId&quot;</span>: <span class="hljs-string">&quot;ratesAndBenefitsData&quot;</span>,
    <span class="hljs-string">&quot;rateAndBenefitsIdentifiers&quot;</span>: [],
    <span class="hljs-string">&quot;teaser&quot;</span>: []
  },
  <span class="hljs-string">&quot;paymentData&quot;</span>: {
    <span class="hljs-string">&quot;installmentOptions&quot;</span>: [
      {
        <span class="hljs-string">&quot;paymentSystem&quot;</span>: <span class="hljs-string">&quot;2&quot;</span>,
        <span class="hljs-string">&quot;bin&quot;</span>: <span class="hljs-literal">null</span>,
        <span class="hljs-string">&quot;paymentName&quot;</span>: <span class="hljs-string">&quot;Visa&quot;</span>,
        <span class="hljs-string">&quot;paymentGroupName&quot;</span>: <span class="hljs-string">&quot;creditCardPaymentGroup&quot;</span>,
        <span class="hljs-string">&quot;value&quot;</span>: <span class="hljs-number">59774</span>,
        <span class="hljs-string">&quot;installments&quot;</span>: [
          {
            <span class="hljs-string">&quot;count&quot;</span>: <span class="hljs-number">1</span>,
            <span class="hljs-string">&quot;hasInterestRate&quot;</span>: <span class="hljs-literal">false</span>,
            <span class="hljs-string">&quot;interestRate&quot;</span>: <span class="hljs-number">0</span>,
            <span class="hljs-string">&quot;value&quot;</span>: <span class="hljs-number">59774</span>,
            <span class="hljs-string">&quot;total&quot;</span>: <span class="hljs-number">59774</span>,
            <span class="hljs-string">&quot;sellerMerchantInstallments&quot;</span>: [
              {
                <span class="hljs-string">&quot;id&quot;</span>: <span class="hljs-string">&quot;SHOPFACILNETSHOES&quot;</span>,
                <span class="hljs-string">&quot;count&quot;</span>: <span class="hljs-number">1</span>,
                <span class="hljs-string">&quot;hasInterestRate&quot;</span>: <span class="hljs-literal">false</span>,
                <span class="hljs-string">&quot;interestRate&quot;</span>: <span class="hljs-number">0</span>,
                <span class="hljs-string">&quot;value&quot;</span>: <span class="hljs-number">31490</span>,
                <span class="hljs-string">&quot;total&quot;</span>: <span class="hljs-number">31490</span>
              },
              {
                <span class="hljs-string">&quot;id&quot;</span>: <span class="hljs-string">&quot;SHOPFACILFASTSHOP&quot;</span>,
                <span class="hljs-string">&quot;count&quot;</span>: <span class="hljs-number">1</span>,
                <span class="hljs-string">&quot;hasInterestRate&quot;</span>: <span class="hljs-literal">false</span>,
                <span class="hljs-string">&quot;interestRate&quot;</span>: <span class="hljs-number">0</span>,
                <span class="hljs-string">&quot;value&quot;</span>: <span class="hljs-number">28284</span>,
                <span class="hljs-string">&quot;total&quot;</span>: <span class="hljs-number">28284</span>
              }
            ]
          }
        ]
      }
    ],
    <span class="hljs-string">&quot;paymentSystems&quot;</span>: [
      {
        <span class="hljs-string">&quot;id&quot;</span>: <span class="hljs-number">2</span>,
        <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;Visa&quot;</span>,
        <span class="hljs-string">&quot;groupName&quot;</span>: <span class="hljs-string">&quot;creditCardPaymentGroup&quot;</span>,
        <span class="hljs-string">&quot;validator&quot;</span>: <span class="hljs-literal">null</span>,
        <span class="hljs-string">&quot;stringId&quot;</span>: <span class="hljs-string">&quot;2&quot;</span>,
        <span class="hljs-string">&quot;template&quot;</span>: <span class="hljs-string">&quot;creditCardPaymentGroup-template&quot;</span>,
        <span class="hljs-string">&quot;requiresDocument&quot;</span>: <span class="hljs-literal">true</span>,
        <span class="hljs-string">&quot;isCustom&quot;</span>: <span class="hljs-literal">false</span>,
        <span class="hljs-string">&quot;description&quot;</span>: <span class="hljs-literal">null</span>,
        <span class="hljs-string">&quot;requiresAuthentication&quot;</span>: <span class="hljs-literal">false</span>
      }
    ],
    <span class="hljs-string">&quot;payments&quot;</span>: [],
    <span class="hljs-string">&quot;giftCards&quot;</span>: [],
    <span class="hljs-string">&quot;giftCardMessages&quot;</span>: [],
    <span class="hljs-string">&quot;availableAccounts&quot;</span>: []
  },
  <span class="hljs-string">&quot;selectableGifts&quot;</span>: [],
  <span class="hljs-string">&quot;marketingData&quot;</span>: <span class="hljs-literal">null</span>,
  <span class="hljs-string">&quot;postalCode&quot;</span>: <span class="hljs-string">&quot;05577000&quot;</span>, <span class="hljs-comment">//CEP</span>
  <span class="hljs-string">&quot;country&quot;</span>: <span class="hljs-string">&quot;BRA&quot;</span>, <span class="hljs-comment">//sigla do pa&#xED;s</span>
  <span class="hljs-string">&quot;logisticsInfo&quot;</span>: [ <span class="hljs-comment">// lista de informa&#xE7;&#xE3;oes de lojistica</span>
    {
      <span class="hljs-string">&quot;itemIndex&quot;</span>: <span class="hljs-number">0</span>,
      <span class="hljs-string">&quot;stockBalance&quot;</span>: <span class="hljs-number">10</span>, <span class="hljs-comment">//estoque</span>
      <span class="hljs-string">&quot;quantity&quot;</span>: <span class="hljs-number">1</span>, <span class="hljs-comment">//quantidade atendida</span>
      <span class="hljs-string">&quot;shipsTo&quot;</span>: [],
      <span class="hljs-string">&quot;slas&quot;</span>: [ <span class="hljs-comment">//lista de acordos de entrega, caso n&#xE3;o enviado CEP retorna lista vazia[]</span>
        {
          <span class="hljs-string">&quot;id&quot;</span>: <span class="hljs-string">&quot;Normal&quot;</span>, <span class="hljs-comment">//identificador do tipo de entrega</span>
          <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;Normal&quot;</span>,
          <span class="hljs-string">&quot;deliveryIds&quot;</span>: [],
          <span class="hljs-string">&quot;shippingEstimate&quot;</span>: <span class="hljs-string">&quot;15bd&quot;</span>, <span class="hljs-comment">//dias uteis estimados para a entrega.</span>
          <span class="hljs-string">&quot;shippingEstimateDate&quot;</span>: <span class="hljs-literal">null</span>,
          <span class="hljs-string">&quot;lockTTL&quot;</span>: <span class="hljs-literal">null</span>,
          <span class="hljs-string">&quot;availableDeliveryWindows&quot;</span>: [],
          <span class="hljs-string">&quot;deliveryWindow&quot;</span>: <span class="hljs-literal">null</span>,
          <span class="hljs-string">&quot;price&quot;</span>: <span class="hljs-number">0</span>, <span class="hljs-comment">//preco da entrega</span>
          <span class="hljs-string">&quot;listPrice&quot;</span>: <span class="hljs-number">0</span>,
          <span class="hljs-string">&quot;tax&quot;</span>: <span class="hljs-number">0</span>
        }
      ]
    },
    {
      <span class="hljs-string">&quot;itemIndex&quot;</span>: <span class="hljs-number">1</span>,
      <span class="hljs-string">&quot;stockBalance&quot;</span>: <span class="hljs-number">20</span>,
      <span class="hljs-string">&quot;quantity&quot;</span>: <span class="hljs-number">1</span>,
      <span class="hljs-string">&quot;shipsTo&quot;</span>: [],
      <span class="hljs-string">&quot;slas&quot;</span>: [
        {
          <span class="hljs-string">&quot;id&quot;</span>: <span class="hljs-string">&quot;Normal&quot;</span>,
          <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;Entrega Normal&quot;</span>,
          <span class="hljs-string">&quot;deliveryIds&quot;</span>: [],
          <span class="hljs-string">&quot;shippingEstimate&quot;</span>: <span class="hljs-string">&quot;2bd&quot;</span>,
          <span class="hljs-string">&quot;shippingEstimateDate&quot;</span>: <span class="hljs-literal">null</span>,
          <span class="hljs-string">&quot;lockTTL&quot;</span>: <span class="hljs-literal">null</span>,
          <span class="hljs-string">&quot;availableDeliveryWindows&quot;</span>: [],
          <span class="hljs-string">&quot;deliveryWindow&quot;</span>: <span class="hljs-literal">null</span>,
          <span class="hljs-string">&quot;price&quot;</span>: <span class="hljs-number">240</span>,
          <span class="hljs-string">&quot;listPrice&quot;</span>: <span class="hljs-number">240</span>,
          <span class="hljs-string">&quot;tax&quot;</span>: <span class="hljs-number">0</span>
        }
      ]
    }
  ],
  <span class="hljs-string">&quot;messages&quot;</span>: [] <span class="hljs-comment">//mensagens de n&#xE3;o conformidade.</span>
}
</code></pre>
<blockquote>
<p>Caso o CEP e Pais n&#xE3;o for enviado, n&#xE3;o ser&#xE1; retornado informa&#xE7;&#xF5;es de SLA de entrega. slas[] vazio.</p>
</blockquote>
<h3 id="enviar-pedido-e-informar-pagamento"><a name="enviar-pedido-e-informar-pagamento" class="plugin-anchor" href="#enviar-pedido-e-informar-pagamento"><span class="fa fa-link"></span></a>Enviar Pedido e Informar Pagamento</h3>
<p>Este t&#xF3;pico tem por objetivo auxiliar um aplicativo enviar um pedido, iformar um pagamento e fechar o processo de pedido no VTEX Marketplace Switch.</p>
<p><a name="a4"></a></p>
<h3 id="enviar-pedido"><a name="enviar-pedido" class="plugin-anchor" href="#enviar-pedido"><span class="fa fa-link"></span></a>Enviar Pedido</h3>
<p>Quando o pedido &#xE9; fechado em um aplicativo, um POST deve ser feito no VTEX Marketplace Switch, para que essa possa receber a ordem de pedido - Endpoint do VTEX Marketplace Switch</p>
<p>endpoint: <code>https://[loja].vtexcommercestable.com.br/api/checkout/pub/orders?sc=1&amp;affiliateId=LBB</code><br>
verb: <strong>PUT</strong><br>
Content-Type: <strong>application/json</strong><br>
Accept: <strong>application/json</strong><br>
Parametro: <strong>sc</strong> // sc &#xE9; o canal de vendas cadastrado na VTEX.<br>
Parametro: <strong>affiliateId</strong> // affiliateId &#xE9; o id do afiliado cadastrado no VTEX Marketplace Switch<br></p>
<p><em>request:</em></p>
<pre><code class="lang-json">{
  <span class="hljs-string">&quot;items&quot;</span>: [ <span class="hljs-comment">//lista de itens</span>
    {
      <span class="hljs-string">&quot;id&quot;</span>: <span class="hljs-string">&quot;310117693&quot;</span>, <span class="hljs-comment">//identificador da SKU</span>
      <span class="hljs-string">&quot;quantity&quot;</span>: <span class="hljs-number">1</span>, <span class="hljs-comment">//quantidade desejada</span>
      <span class="hljs-string">&quot;seller&quot;</span>: <span class="hljs-string">&quot;1&quot;</span>, <span class="hljs-comment">//identificador do Seller</span>
      <span class="hljs-string">&quot;price&quot;</span>: <span class="hljs-number">2690</span>, <span class="hljs-comment">//pre&#xE7;o da SKU</span>
      <span class="hljs-string">&quot;bundleItems&quot;</span>: [] <span class="hljs-comment">//servi&#xE7;os</span>
    }
  ],
  <span class="hljs-string">&quot;clientProfileData&quot;</span>: { <span class="hljs-comment">// dados do cliente</span>
    <span class="hljs-string">&quot;email&quot;</span>: <span class="hljs-string">&quot;jonasrj@hotmail.com.br&quot;</span>, <span class="hljs-comment">//e-mail do cliente final</span>
    <span class="hljs-string">&quot;firstName&quot;</span>: <span class="hljs-string">&quot;Jonas&quot;</span>, <span class="hljs-comment">//nome do cliente final</span>
    <span class="hljs-string">&quot;lastName&quot;</span>: <span class="hljs-string">&quot;Alves de Oliveira&quot;</span>, <span class="hljs-comment">//sobrenome do cliente final</span>
    <span class="hljs-string">&quot;document&quot;</span>: <span class="hljs-string">&quot;08896581885&quot;</span>, <span class="hljs-comment">//documento do cliente final</span>
    <span class="hljs-string">&quot;phone&quot;</span>: <span class="hljs-string">&quot;399271258&quot;</span>, <span class="hljs-comment">//fone do cliente final</span>
    <span class="hljs-string">&quot;corporateName&quot;</span>: <span class="hljs-literal">null</span>, <span class="hljs-comment">//opcional, raz&#xE3;o social</span>
    <span class="hljs-string">&quot;tradeName&quot;</span>: <span class="hljs-literal">null</span>, <span class="hljs-comment">//opcional, nome fantasia</span>
    <span class="hljs-string">&quot;corporateDocument&quot;</span>: <span class="hljs-literal">null</span>, <span class="hljs-comment">//opcional, CNPJ</span>
    <span class="hljs-string">&quot;stateInscription&quot;</span>: <span class="hljs-literal">null</span>, <span class="hljs-comment">//opcional, inscri&#xE7;&#xE3;o estadual</span>
    <span class="hljs-string">&quot;corporatePhone&quot;</span>: <span class="hljs-literal">null</span>, <span class="hljs-comment">//opcional, fone</span>
    <span class="hljs-string">&quot;isCorporate&quot;</span>: <span class="hljs-literal">false</span> <span class="hljs-comment">//opcional, &#xE9; pessoa jur&#xED;dica</span>
  },
  <span class="hljs-string">&quot;shippingData&quot;</span>: { <span class="hljs-comment">//dados de entrega</span>
    <span class="hljs-string">&quot;id&quot;</span>: <span class="hljs-string">&quot;shippingData&quot;</span>,
    <span class="hljs-string">&quot;address&quot;</span>: {
      <span class="hljs-string">&quot;addressType&quot;</span>: <span class="hljs-string">&quot;1&quot;</span>, <span class="hljs-comment">//tipos endere&#xE7;o, 1=residencial</span>
      <span class="hljs-string">&quot;receiverName&quot;</span>: <span class="hljs-string">&quot;Jonas Alves de Oliveira&quot;</span>, <span class="hljs-comment">//nome do destinat&#xE1;rio</span>
      <span class="hljs-string">&quot;addressId&quot;</span>: <span class="hljs-string">&quot;Casa&quot;</span>, <span class="hljs-comment">//identificador do endere&#xE7;o</span>
      <span class="hljs-string">&quot;postalCode&quot;</span>: <span class="hljs-string">&quot;13476103&quot;</span>, <span class="hljs-comment">//CEP</span>
      <span class="hljs-string">&quot;city&quot;</span>: <span class="hljs-string">&quot;Americana&quot;</span>, <span class="hljs-comment">//cidade</span>
      <span class="hljs-string">&quot;state&quot;</span>: <span class="hljs-string">&quot;SP&quot;</span>, <span class="hljs-comment">//UF</span>
      <span class="hljs-string">&quot;country&quot;</span>: <span class="hljs-string">&quot;BRA&quot;</span>, <span class="hljs-comment">//pa&#xED;s</span>
      <span class="hljs-string">&quot;street&quot;</span>: <span class="hljs-string">&quot;JO&#xC3;O DAM&#xC1;ZIO GOMES&quot;</span>, <span class="hljs-comment">//rua</span>
      <span class="hljs-string">&quot;number&quot;</span>: <span class="hljs-string">&quot;311&quot;</span>, <span class="hljs-comment">//n&#xFA;mero na rua</span>
      <span class="hljs-string">&quot;neighborhood&quot;</span>: <span class="hljs-string">&quot;S&#xC3;O JOS&#xC9;&quot;</span>, <span class="hljs-comment">//bairro</span>
      <span class="hljs-string">&quot;complement&quot;</span>: <span class="hljs-literal">null</span>, <span class="hljs-comment">//complemento do endere&#xE7;o</span>
      <span class="hljs-string">&quot;reference&quot;</span>: <span class="hljs-string">&quot;Bairro Praia Azul / Posto de Sa&#xFA;de 17&quot;</span> <span class="hljs-comment">//referencia do endere&#xE7;o</span>
    },
    <span class="hljs-string">&quot;logisticsInfo&quot;</span>: [ <span class="hljs-comment">//dados de entrega</span>
      {
        <span class="hljs-string">&quot;itemIndex&quot;</span>: <span class="hljs-number">0</span>,
        <span class="hljs-string">&quot;selectedSla&quot;</span>: <span class="hljs-string">&quot;Normal&quot;</span>, <span class="hljs-comment">//tipo da entrega</span>
        <span class="hljs-string">&quot;lockTTL&quot;</span>: <span class="hljs-string">&quot;7d&quot;</span>, <span class="hljs-comment">//dias para segurar a reserva</span>
        <span class="hljs-string">&quot;price&quot;</span>: <span class="hljs-number">500</span>, <span class="hljs-comment">//custo da entrega</span>
        <span class="hljs-string">&quot;deliveryWindow&quot;</span>: <span class="hljs-literal">null</span> <span class="hljs-comment">//opcional, janela de entrega</span>
      }
    ]
  },
  <span class="hljs-string">&quot;paymentData&quot;</span>: { <span class="hljs-comment">//dados do pagamento</span>
    <span class="hljs-string">&quot;payments&quot;</span>: [ <span class="hljs-comment">//pagamento</span>
      {
        <span class="hljs-string">&quot;value&quot;</span>: <span class="hljs-number">3190</span>, <span class="hljs-comment">//valor do pagamento</span>
        <span class="hljs-string">&quot;referenceValue&quot;</span>: <span class="hljs-number">3190</span>, <span class="hljs-comment">//valor do pagamento sem juros</span>
        <span class="hljs-string">&quot;installments&quot;</span>: <span class="hljs-number">1</span>, <span class="hljs-comment">//numero de parcelas</span>
        <span class="hljs-string">&quot;paymentSystem&quot;</span>: <span class="hljs-string">&quot;201&quot;</span> <span class="hljs-comment">//identificador do pagamento customizado</span>
      }
    ]
  },
  <span class="hljs-string">&quot;gift-cards&quot;</span>: []
}
</code></pre>
<p><em>response:</em></p>
<pre><code class="lang-json">{
  <span class="hljs-string">&quot;orderForm&quot;</span>: <span class="hljs-literal">null</span>,
  <span class="hljs-string">&quot;transactionData&quot;</span>: { <span class="hljs-comment">//dados da transa&#xE7;&#xE3;o de pagamento</span>
    <span class="hljs-string">&quot;merchantTransactions&quot;</span>: [
      {
        <span class="hljs-string">&quot;id&quot;</span>: <span class="hljs-string">&quot;SANDBOXINTEGRACAO&quot;</span>,
        <span class="hljs-string">&quot;transactionId&quot;</span>: <span class="hljs-string">&quot;055D31E878604BA2B9091F9B1959B9CF&quot;</span>, <span class="hljs-comment">//identificador da transa&#xE7;&#xE3;o de pagamento</span>
        <span class="hljs-string">&quot;merchantName&quot;</span>: <span class="hljs-string">&quot;SANDBOXINTEGRACAO&quot;</span>,
        <span class="hljs-string">&quot;payments&quot;</span>: [
          {
            <span class="hljs-string">&quot;paymentSystem&quot;</span>: <span class="hljs-string">&quot;201&quot;</span>, <span class="hljs-comment">//identificador do pagamento customizado</span>
            <span class="hljs-string">&quot;bin&quot;</span>: <span class="hljs-literal">null</span>,
            <span class="hljs-string">&quot;accountId&quot;</span>: <span class="hljs-literal">null</span>,
            <span class="hljs-string">&quot;value&quot;</span>: <span class="hljs-number">3190</span>, <span class="hljs-comment">//valor do pagamento</span>
            <span class="hljs-string">&quot;referenceValue&quot;</span>: <span class="hljs-number">3190</span>, <span class="hljs-comment">//valor do pagamento sem juros</span>
            <span class="hljs-string">&quot;giftCardRedemptionCode&quot;</span>: <span class="hljs-literal">null</span>,
            <span class="hljs-string">&quot;giftCardProvider&quot;</span>: <span class="hljs-literal">null</span>,
            <span class="hljs-string">&quot;giftCardId&quot;</span>: <span class="hljs-literal">null</span>
          }
        ]
      }
    ],
    <span class="hljs-string">&quot;receiverUri&quot;</span>: <span class="hljs-string">&quot;https://sandboxintegracao.vtexpayments.com.br/split/563790004322/payments&quot;</span>, <span class="hljs-comment">// url para colocar o pagamento</span>
    <span class="hljs-string">&quot;gatewayCallbackTemplatePath&quot;</span>: <span class="hljs-string">&quot;/checkout/gatewayCallback/563790004322/{messageCode}&quot;</span>
  },
  <span class="hljs-string">&quot;orders&quot;</span>: [
    {
      <span class="hljs-string">&quot;orderId&quot;</span>: <span class="hljs-string">&quot;563790004322-01&quot;</span>, <span class="hljs-comment">// identificador do pedido gerado</span>
      <span class="hljs-string">&quot;orderGroup&quot;</span>: <span class="hljs-string">&quot;563790004322&quot;</span>, <span class="hljs-comment">// agrupador do pedido</span>
      <span class="hljs-string">&quot;state&quot;</span>: <span class="hljs-string">&quot;payment-pending&quot;</span>, <span class="hljs-comment">// status do pagamento</span>
      <span class="hljs-string">&quot;value&quot;</span>: <span class="hljs-number">3190</span>, <span class="hljs-comment">//valor do pagamento</span>
      <span class="hljs-string">&quot;items&quot;</span>: [ <span class="hljs-comment">//dados dos itens do pedido</span>
        {
          <span class="hljs-string">&quot;uniqueId&quot;</span>: <span class="hljs-string">&quot;D4AA40DCE43B407C95569F9793E3C0DC&quot;</span>,
          <span class="hljs-string">&quot;id&quot;</span>: <span class="hljs-string">&quot;310117693&quot;</span>, <span class="hljs-comment">// identificador da SKU</span>
          <span class="hljs-string">&quot;productId&quot;</span>: <span class="hljs-string">&quot;310116559&quot;</span>, <span class="hljs-comment">// agrupador da SKU</span>
          <span class="hljs-string">&quot;refId&quot;</span>: <span class="hljs-string">&quot;004966&quot;</span>, <span class="hljs-comment">// codigo de referencia</span>
          <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;Il Frutteto Rom&#xE3; com P&#xEA;ssego Nesti Dante - Sabonete Frutal em Barra 250g&quot;</span>, <span class="hljs-comment">//nome do item</span>
          <span class="hljs-string">&quot;skuName&quot;</span>: <span class="hljs-string">&quot;250g&quot;</span>, <span class="hljs-comment">//nome da SKU</span>
          <span class="hljs-string">&quot;modalType&quot;</span>: <span class="hljs-literal">null</span>,
          <span class="hljs-string">&quot;priceValidUntil&quot;</span>: <span class="hljs-literal">null</span>,
          <span class="hljs-string">&quot;tax&quot;</span>: <span class="hljs-number">0</span>,
          <span class="hljs-string">&quot;price&quot;</span>: <span class="hljs-number">2690</span>, <span class="hljs-comment">//pre&#xE7;o POR</span>
          <span class="hljs-string">&quot;listPrice&quot;</span>: <span class="hljs-number">2690</span>, <span class="hljs-comment">//pre&#xE7;o DE</span>
          <span class="hljs-string">&quot;manualPrice&quot;</span>: <span class="hljs-literal">null</span>,
          <span class="hljs-string">&quot;sellingPrice&quot;</span>: <span class="hljs-number">2690</span>, <span class="hljs-comment">//pre&#xE7;o de vendido</span>
          <span class="hljs-string">&quot;rewardValue&quot;</span>: <span class="hljs-number">0</span>,
          <span class="hljs-string">&quot;isGift&quot;</span>: <span class="hljs-literal">false</span>, <span class="hljs-comment">//&#xE9; presente?</span>
          <span class="hljs-string">&quot;additionalInfo&quot;</span>: { <span class="hljs-comment">// informa&#xE7;&#xF5;es adicionais</span>
            <span class="hljs-string">&quot;brandName&quot;</span>: <span class="hljs-string">&quot;Nesti Dante&quot;</span>, <span class="hljs-comment">// nome da marca</span>
            <span class="hljs-string">&quot;brandId&quot;</span>: <span class="hljs-string">&quot;2000070&quot;</span>, <span class="hljs-comment">//identificador da marca</span>
            <span class="hljs-string">&quot;offeringInfo&quot;</span>: <span class="hljs-literal">null</span>,
            <span class="hljs-string">&quot;offeringType&quot;</span>: <span class="hljs-literal">null</span>,
            <span class="hljs-string">&quot;offeringTypeId&quot;</span>: <span class="hljs-literal">null</span>
          },
          <span class="hljs-string">&quot;preSaleDate&quot;</span>: <span class="hljs-literal">null</span>,
          <span class="hljs-string">&quot;productCategoryIds&quot;</span>: <span class="hljs-string">&quot;/1000023/1000111/&quot;</span>, arv&#xF3;re de categoria
          <span class="hljs-string">&quot;productCategories&quot;</span>: { <span class="hljs-comment">//identificador das categorias</span>
            <span class="hljs-string">&quot;1000023&quot;</span>: <span class="hljs-string">&quot;Corpo e Banho&quot;</span>,
            <span class="hljs-string">&quot;1000111&quot;</span>: <span class="hljs-string">&quot;Sabonete e Gel de Banho&quot;</span>
          },
          <span class="hljs-string">&quot;defaultPicker&quot;</span>: <span class="hljs-literal">null</span>,
          <span class="hljs-string">&quot;handlerSequence&quot;</span>: <span class="hljs-number">0</span>,
          <span class="hljs-string">&quot;handling&quot;</span>: <span class="hljs-literal">false</span>,
          <span class="hljs-string">&quot;quantity&quot;</span>: <span class="hljs-number">1</span>, <span class="hljs-comment">//quantidade vendida</span>
          <span class="hljs-string">&quot;seller&quot;</span>: <span class="hljs-string">&quot;1&quot;</span>,
          <span class="hljs-string">&quot;imageUrl&quot;</span>: <span class="hljs-string">&quot;http://sandboxintegracao.vteximg.com.br/arquivos/ids/155728-55-55/il-frutteto-250g-nesti-dante.jpg&quot;</span>,
          <span class="hljs-string">&quot;detailUrl&quot;</span>: <span class="hljs-string">&quot;/il-frutteto-roma-com-pessego-nesti-dante-sabonete-frutal-em-barra/p&quot;</span>,
          <span class="hljs-string">&quot;components&quot;</span>: [],
          <span class="hljs-string">&quot;bundleItems&quot;</span>: [],
          <span class="hljs-string">&quot;attachments&quot;</span>: [],
          <span class="hljs-string">&quot;itemAttachment&quot;</span>: {
            <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-literal">null</span>,
            <span class="hljs-string">&quot;content&quot;</span>: {}
          },
          <span class="hljs-string">&quot;attachmentOfferings&quot;</span>: [],
          <span class="hljs-string">&quot;offerings&quot;</span>: [],
          <span class="hljs-string">&quot;priceTags&quot;</span>: [],
          <span class="hljs-string">&quot;availability&quot;</span>: <span class="hljs-string">&quot;available&quot;</span>,
          <span class="hljs-string">&quot;measurementUnit&quot;</span>: <span class="hljs-string">&quot;un&quot;</span>,
          <span class="hljs-string">&quot;unitMultiplier&quot;</span>: <span class="hljs-number">1</span>
        }
      ],
      <span class="hljs-string">&quot;sellers&quot;</span>: [ <span class="hljs-comment">//sellers que vendem essa SKU</span>
        {
          <span class="hljs-string">&quot;id&quot;</span>: <span class="hljs-string">&quot;1&quot;</span>,
          <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;Sandbox-integracao&quot;</span>,
          <span class="hljs-string">&quot;logo&quot;</span>: <span class="hljs-string">&quot;http://portal.vtexcommercestable.com.br/arquivos/logo.jpg&quot;</span>
        }
      ],
      <span class="hljs-string">&quot;totals&quot;</span>: [ <span class="hljs-comment">//totais dos pedidos</span>
        {
          <span class="hljs-string">&quot;id&quot;</span>: <span class="hljs-string">&quot;Items&quot;</span>,
          <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;Total dos Itens&quot;</span>,
          <span class="hljs-string">&quot;value&quot;</span>: <span class="hljs-number">2690</span>
        },
        {
          <span class="hljs-string">&quot;id&quot;</span>: <span class="hljs-string">&quot;Discounts&quot;</span>,
          <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;Total dos Descontos&quot;</span>,
          <span class="hljs-string">&quot;value&quot;</span>: <span class="hljs-number">0</span>
        },
        {
          <span class="hljs-string">&quot;id&quot;</span>: <span class="hljs-string">&quot;Shipping&quot;</span>,
          <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;Total do Frete&quot;</span>,
          <span class="hljs-string">&quot;value&quot;</span>: <span class="hljs-number">500</span>
        },
        {
          <span class="hljs-string">&quot;id&quot;</span>: <span class="hljs-string">&quot;Tax&quot;</span>,
          <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;Total da Taxa&quot;</span>,
          <span class="hljs-string">&quot;value&quot;</span>: <span class="hljs-number">0</span>
        }
      ],
      <span class="hljs-string">&quot;clientProfileData&quot;</span>: { <span class="hljs-comment">//dados do cliente</span>
        <span class="hljs-string">&quot;attachmentId&quot;</span>: <span class="hljs-string">&quot;clientProfileData&quot;</span>,
        <span class="hljs-string">&quot;email&quot;</span>: <span class="hljs-string">&quot;jonasrj@hotmail.com.br&quot;</span>,
        <span class="hljs-string">&quot;firstName&quot;</span>: <span class="hljs-string">&quot;Jon**&quot;</span>,
        <span class="hljs-string">&quot;lastName&quot;</span>: <span class="hljs-string">&quot;Alv** ** ********&quot;</span>,
        <span class="hljs-string">&quot;document&quot;</span>: <span class="hljs-string">&quot;*8*9*5*1*8*&quot;</span>,
        <span class="hljs-string">&quot;documentType&quot;</span>: <span class="hljs-string">&quot;cpf&quot;</span>,
        <span class="hljs-string">&quot;phone&quot;</span>: <span class="hljs-string">&quot;*****1258&quot;</span>,
        <span class="hljs-string">&quot;corporateName&quot;</span>: <span class="hljs-literal">null</span>,
        <span class="hljs-string">&quot;tradeName&quot;</span>: <span class="hljs-literal">null</span>,
        <span class="hljs-string">&quot;corporateDocument&quot;</span>: <span class="hljs-literal">null</span>,
        <span class="hljs-string">&quot;stateInscription&quot;</span>: <span class="hljs-literal">null</span>,
        <span class="hljs-string">&quot;corporatePhone&quot;</span>: <span class="hljs-literal">null</span>,
        <span class="hljs-string">&quot;isCorporate&quot;</span>: <span class="hljs-literal">false</span>
      },
      <span class="hljs-string">&quot;ratesAndBenefitsData&quot;</span>: {
        <span class="hljs-string">&quot;attachmentId&quot;</span>: <span class="hljs-string">&quot;ratesAndBenefitsData&quot;</span>,
        <span class="hljs-string">&quot;rateAndBenefitsIdentifiers&quot;</span>: [],
        <span class="hljs-string">&quot;teaser&quot;</span>: []
      },
      <span class="hljs-string">&quot;shippingData&quot;</span>: { <span class="hljs-comment">//dados de entrega</span>
        <span class="hljs-string">&quot;attachmentId&quot;</span>: <span class="hljs-string">&quot;shippingData&quot;</span>,
        <span class="hljs-string">&quot;address&quot;</span>: {
          <span class="hljs-string">&quot;addressType&quot;</span>: <span class="hljs-string">&quot;residential&quot;</span>,
          <span class="hljs-string">&quot;receiverName&quot;</span>: <span class="hljs-string">&quot;Jon** ***** ** ********&quot;</span>,
          <span class="hljs-string">&quot;addressId&quot;</span>: <span class="hljs-string">&quot;Casa&quot;</span>,
          <span class="hljs-string">&quot;postalCode&quot;</span>: <span class="hljs-string">&quot;*****103&quot;</span>,
          <span class="hljs-string">&quot;city&quot;</span>: <span class="hljs-string">&quot;Ame******&quot;</span>,
          <span class="hljs-string">&quot;state&quot;</span>: <span class="hljs-string">&quot;SP&quot;</span>,
          <span class="hljs-string">&quot;country&quot;</span>: <span class="hljs-string">&quot;BRA&quot;</span>,
          <span class="hljs-string">&quot;street&quot;</span>: <span class="hljs-string">&quot;JO&#xC3;* ******* **MES&quot;</span>,
          <span class="hljs-string">&quot;number&quot;</span>: <span class="hljs-string">&quot;***&quot;</span>,
          <span class="hljs-string">&quot;neighborhood&quot;</span>: <span class="hljs-string">&quot;S&#xC3;O ****&quot;</span>,
          <span class="hljs-string">&quot;complement&quot;</span>: <span class="hljs-literal">null</span>,
          <span class="hljs-string">&quot;reference&quot;</span>: <span class="hljs-string">&quot;****** ***** **** * ***** ** ***** **&quot;</span>,
          <span class="hljs-string">&quot;geoCoordinates&quot;</span>: []
        },
        <span class="hljs-string">&quot;logisticsInfo&quot;</span>: [ <span class="hljs-comment">//todos os dados de entrega dessa SKU</span>
          {
            <span class="hljs-string">&quot;itemIndex&quot;</span>: <span class="hljs-number">0</span>,
            <span class="hljs-string">&quot;selectedSla&quot;</span>: <span class="hljs-string">&quot;Normal&quot;</span>,
            <span class="hljs-string">&quot;slas&quot;</span>: [
              {
                <span class="hljs-string">&quot;id&quot;</span>: <span class="hljs-string">&quot;Normal&quot;</span>,
                <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;Normal&quot;</span>,
                <span class="hljs-string">&quot;deliveryIds&quot;</span>: [
                  {
                    <span class="hljs-string">&quot;courierId&quot;</span>: <span class="hljs-string">&quot;2&quot;</span>,
                    <span class="hljs-string">&quot;warehouseId&quot;</span>: <span class="hljs-string">&quot;1_1&quot;</span>,
                    <span class="hljs-string">&quot;dockId&quot;</span>: <span class="hljs-string">&quot;1&quot;</span>,
                    <span class="hljs-string">&quot;courierName&quot;</span>: <span class="hljs-string">&quot;Normal&quot;</span>,
                    <span class="hljs-string">&quot;quantity&quot;</span>: <span class="hljs-number">1</span>
                  }
                ],
                <span class="hljs-string">&quot;shippingEstimate&quot;</span>: <span class="hljs-string">&quot;4bd&quot;</span>,
                <span class="hljs-string">&quot;shippingEstimateDate&quot;</span>: <span class="hljs-literal">null</span>,
                <span class="hljs-string">&quot;lockTTL&quot;</span>: <span class="hljs-string">&quot;14d&quot;</span>,
                <span class="hljs-string">&quot;availableDeliveryWindows&quot;</span>: [],
                <span class="hljs-string">&quot;deliveryWindow&quot;</span>: <span class="hljs-literal">null</span>,
                <span class="hljs-string">&quot;price&quot;</span>: <span class="hljs-number">500</span>,
                <span class="hljs-string">&quot;listPrice&quot;</span>: <span class="hljs-number">500</span>,
                <span class="hljs-string">&quot;tax&quot;</span>: <span class="hljs-number">0</span>
              },
              {
                <span class="hljs-string">&quot;id&quot;</span>: <span class="hljs-string">&quot;Entrega Agendada&quot;</span>,
                <span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;Entrega Agendada&quot;</span>,
                <span class="hljs-string">&quot;deliveryIds&quot;</span>: [
                  {
                    <span class="hljs-string">&quot;courierId&quot;</span>: <span class="hljs-string">&quot;1&quot;</span>,
                    <span class="hljs-string">&quot;warehouseId&quot;</span>: <span class="hljs-string">&quot;1_1&quot;</span>,
                    <span class="hljs-string">&quot;dockId&quot;</span>: <span class="hljs-string">&quot;1&quot;</span>,
                    <span class="hljs-string">&quot;courierName&quot;</span>: <span class="hljs-string">&quot;Transportadora&quot;</span>,
                    <span class="hljs-string">&quot;quantity&quot;</span>: <span class="hljs-number">1</span>
                  }
                ],
                <span class="hljs-string">&quot;shippingEstimate&quot;</span>: <span class="hljs-string">&quot;4bd&quot;</span>,
                <span class="hljs-string">&quot;shippingEstimateDate&quot;</span>: <span class="hljs-literal">null</span>,
                <span class="hljs-string">&quot;lockTTL&quot;</span>: <span class="hljs-string">&quot;14d&quot;</span>,
                <span class="hljs-string">&quot;availableDeliveryWindows&quot;</span>: [
                  {
                    <span class="hljs-string">&quot;startDateUtc&quot;</span>: <span class="hljs-string">&quot;2015-09-30T07:00:00+00:00&quot;</span>,
                    <span class="hljs-string">&quot;endDateUtc&quot;</span>: <span class="hljs-string">&quot;2015-09-30T12:00:00+00:00&quot;</span>,
                    <span class="hljs-string">&quot;price&quot;</span>: <span class="hljs-number">1</span>,
                    <span class="hljs-string">&quot;lisPrice&quot;</span>: <span class="hljs-number">1</span>,
                    <span class="hljs-string">&quot;tax&quot;</span>: <span class="hljs-number">0</span>
                  },
                  {
                    <span class="hljs-string">&quot;startDateUtc&quot;</span>: <span class="hljs-string">&quot;2015-10-05T07:00:00+00:00&quot;</span>,
                    <span class="hljs-string">&quot;endDateUtc&quot;</span>: <span class="hljs-string">&quot;2015-10-05T12:00:00+00:00&quot;</span>,
                    <span class="hljs-string">&quot;price&quot;</span>: <span class="hljs-number">1</span>,
                    <span class="hljs-string">&quot;lisPrice&quot;</span>: <span class="hljs-number">1</span>,
                    <span class="hljs-string">&quot;tax&quot;</span>: <span class="hljs-number">0</span>
                  },
                  {
                    <span class="hljs-string">&quot;startDateUtc&quot;</span>: <span class="hljs-string">&quot;2015-10-07T07:00:00+00:00&quot;</span>,
                    <span class="hljs-string">&quot;endDateUtc&quot;</span>: <span class="hljs-string">&quot;2015-10-07T12:00:00+00:00&quot;</span>,
                    <span class="hljs-string">&quot;price&quot;</span>: <span class="hljs-number">1</span>,
                    <span class="hljs-string">&quot;lisPrice&quot;</span>: <span class="hljs-number">1</span>,
                    <span class="hljs-string">&quot;tax&quot;</span>: <span class="hljs-number">0</span>
                  },
                  {
                    <span class="hljs-string">&quot;startDateUtc&quot;</span>: <span class="hljs-string">&quot;2015-10-12T07:00:00+00:00&quot;</span>,
                    <span class="hljs-string">&quot;endDateUtc&quot;</span>: <span class="hljs-string">&quot;2015-10-12T12:00:00+00:00&quot;</span>,
                    <span class="hljs-string">&quot;price&quot;</span>: <span class="hljs-number">1</span>,
                    <span class="hljs-string">&quot;lisPrice&quot;</span>: <span class="hljs-number">1</span>,
                    <span class="hljs-string">&quot;tax&quot;</span>: <span class="hljs-number">0</span>
                  }
                ],
                <span class="hljs-string">&quot;deliveryWindow&quot;</span>: <span class="hljs-literal">null</span>,
                <span class="hljs-string">&quot;price&quot;</span>: <span class="hljs-number">1500</span>,
                <span class="hljs-string">&quot;listPrice&quot;</span>: <span class="hljs-number">1500</span>,
                <span class="hljs-string">&quot;tax&quot;</span>: <span class="hljs-number">0</span>
              }
            ],
            <span class="hljs-string">&quot;shipsTo&quot;</span>: [],
            <span class="hljs-string">&quot;itemId&quot;</span>: <span class="hljs-string">&quot;310117693&quot;</span>
          }
        ],
        <span class="hljs-string">&quot;availableAddresses&quot;</span>: [ <span class="hljs-comment">//todos os endere&#xE7;os desse cliente</span>
          {
            <span class="hljs-string">&quot;addressType&quot;</span>: <span class="hljs-string">&quot;residential&quot;</span>,
            <span class="hljs-string">&quot;receiverName&quot;</span>: <span class="hljs-string">&quot;Jon** ***** ** ********&quot;</span>,
            <span class="hljs-string">&quot;addressId&quot;</span>: <span class="hljs-string">&quot;Casa&quot;</span>,
            <span class="hljs-string">&quot;postalCode&quot;</span>: <span class="hljs-string">&quot;*****103&quot;</span>,
            <span class="hljs-string">&quot;city&quot;</span>: <span class="hljs-string">&quot;Ame******&quot;</span>,
            <span class="hljs-string">&quot;state&quot;</span>: <span class="hljs-string">&quot;SP&quot;</span>,
            <span class="hljs-string">&quot;country&quot;</span>: <span class="hljs-string">&quot;BRA&quot;</span>,
            <span class="hljs-string">&quot;street&quot;</span>: <span class="hljs-string">&quot;JO&#xC3;* ******* **MES&quot;</span>,
            <span class="hljs-string">&quot;number&quot;</span>: <span class="hljs-string">&quot;***&quot;</span>,
            <span class="hljs-string">&quot;neighborhood&quot;</span>: <span class="hljs-string">&quot;S&#xC3;O ****&quot;</span>,
            <span class="hljs-string">&quot;complement&quot;</span>: <span class="hljs-literal">null</span>,
            <span class="hljs-string">&quot;reference&quot;</span>: <span class="hljs-string">&quot;****** ***** **** * ***** ** ***** **&quot;</span>,
            <span class="hljs-string">&quot;geoCoordinates&quot;</span>: []
          }
        ]
      },
      <span class="hljs-string">&quot;paymentData&quot;</span>: {
        <span class="hljs-string">&quot;attachmentId&quot;</span>: <span class="hljs-string">&quot;paymentData&quot;</span>,
        <span class="hljs-string">&quot;transactionId&quot;</span>: <span class="hljs-string">&quot;055D31E878604BA2B9091F9B1959B9CF&quot;</span>,
        <span class="hljs-string">&quot;payments&quot;</span>: [],
        <span class="hljs-string">&quot;giftCards&quot;</span>: [],
        <span class="hljs-string">&quot;transactions&quot;</span>: [
          {
            <span class="hljs-string">&quot;isActive&quot;</span>: <span class="hljs-literal">true</span>,
            <span class="hljs-string">&quot;transactionId&quot;</span>: <span class="hljs-string">&quot;055D31E878604BA2B9091F9B1959B9CF&quot;</span>,
            <span class="hljs-string">&quot;merchantName&quot;</span>: <span class="hljs-string">&quot;SANDBOXINTEGRACAO&quot;</span>,
            <span class="hljs-string">&quot;payments&quot;</span>: []
          }
        ],
        <span class="hljs-string">&quot;merchantName&quot;</span>: <span class="hljs-string">&quot;SANDBOXINTEGRACAO&quot;</span>
      },
      <span class="hljs-string">&quot;clientPreferencesData&quot;</span>: <span class="hljs-literal">null</span>,
      <span class="hljs-string">&quot;giftRegistryData&quot;</span>: <span class="hljs-literal">null</span>,
      <span class="hljs-string">&quot;marketingData&quot;</span>: <span class="hljs-literal">null</span>,
      <span class="hljs-string">&quot;storePreferencesData&quot;</span>: {
        <span class="hljs-string">&quot;countryCode&quot;</span>: <span class="hljs-string">&quot;BRA&quot;</span>,
        <span class="hljs-string">&quot;checkToSavePersonDataByDefault&quot;</span>: <span class="hljs-literal">false</span>,
        <span class="hljs-string">&quot;templateOptions&quot;</span>: {
          <span class="hljs-string">&quot;toggleCorporate&quot;</span>: <span class="hljs-literal">false</span>
        },
        <span class="hljs-string">&quot;timeZone&quot;</span>: <span class="hljs-string">&quot;E. South America Standard Time&quot;</span>,
        <span class="hljs-string">&quot;currencyCode&quot;</span>: <span class="hljs-string">&quot;BRL&quot;</span>,
        <span class="hljs-string">&quot;currencyLocale&quot;</span>: <span class="hljs-number">1046</span>,
        <span class="hljs-string">&quot;currencySymbol&quot;</span>: <span class="hljs-string">&quot;R$&quot;</span>,
        <span class="hljs-string">&quot;currencyFormatInfo&quot;</span>: {
          <span class="hljs-string">&quot;currencyDecimalDigits&quot;</span>: <span class="hljs-number">2</span>,
          <span class="hljs-string">&quot;currencyDecimalSeparator&quot;</span>: <span class="hljs-string">&quot;,&quot;</span>,
          <span class="hljs-string">&quot;currencyGroupSeparator&quot;</span>: <span class="hljs-string">&quot;.&quot;</span>,
          <span class="hljs-string">&quot;currencyGroupSize&quot;</span>: <span class="hljs-number">3</span>,
          <span class="hljs-string">&quot;startsWithCurrencySymbol&quot;</span>: <span class="hljs-literal">true</span>
        }
      },
      <span class="hljs-string">&quot;openTextField&quot;</span>: <span class="hljs-literal">null</span>,
      <span class="hljs-string">&quot;changeData&quot;</span>: <span class="hljs-literal">null</span>,
      <span class="hljs-string">&quot;salesChannel&quot;</span>: <span class="hljs-string">&quot;1&quot;</span>,
      <span class="hljs-string">&quot;followUpEmail&quot;</span>: <span class="hljs-string">&quot;dda5e0841f3b4c7299e5c9c5e04aa8f7@ct.vtex.com.br&quot;</span>,
      <span class="hljs-string">&quot;creationDate&quot;</span>: <span class="hljs-string">&quot;2015-09-23T19:00:06.4499638Z&quot;</span>,
      <span class="hljs-string">&quot;lastChange&quot;</span>: <span class="hljs-string">&quot;2015-09-23T19:00:11.7539981Z&quot;</span>,
      <span class="hljs-string">&quot;timeZoneCreationDate&quot;</span>: <span class="hljs-string">&quot;2015-09-23T16:00:06.4499638&quot;</span>,
      <span class="hljs-string">&quot;timeZoneLastChange&quot;</span>: <span class="hljs-string">&quot;2015-09-23T16:00:11.7539981&quot;</span>,
      <span class="hljs-string">&quot;isCompleted&quot;</span>: <span class="hljs-literal">false</span>,
      <span class="hljs-string">&quot;hostName&quot;</span>: <span class="hljs-string">&quot;sandboxintegracao&quot;</span>,
      <span class="hljs-string">&quot;merchantName&quot;</span>: <span class="hljs-literal">null</span>,
      <span class="hljs-string">&quot;userType&quot;</span>: <span class="hljs-string">&quot;&quot;</span>,
      <span class="hljs-string">&quot;roundingError&quot;</span>: <span class="hljs-number">0</span>
    }
  ]
}
</code></pre>
<p><em>retorno de erro:</em></p>
<pre><code class="lang-json">{
    <span class="hljs-string">&quot;error&quot;</span>: {
    <span class="hljs-string">&quot;code&quot;</span>: <span class="hljs-string">&quot;1&quot;</span>,
    <span class="hljs-string">&quot;message&quot;</span>: <span class="hljs-string">&quot;O verbo &apos;GET&apos; n&#xE3;o &#xE9; compat&#xED;vel com a rota &apos;/api/fulfillment/pvt/orders&apos;&quot;</span>,
    <span class="hljs-string">&quot;exception&quot;</span>: <span class="hljs-literal">null</span>
    }
}
</code></pre>
<p><a name="a5"></a></p>
<h3 id="informa-pagamento"><a name="informa-pagamento" class="plugin-anchor" href="#informa-pagamento"><span class="fa fa-link"></span></a>Informa Pagamento</h3>
<p>Informa o pagamento do pedido - Endpoint do VTEX Marketplace Switch. Nesse modelo um pagamento customizado dever
ser enviado, para que se complete o fluxo do pedido.</p>
<p>endpoint: <code>https://sandboxintegracao.vtexpayments.com.br/split/[iddogrupodopedido]/payments</code><br>
verb: <strong>POST</strong><br>
Content-Type: <strong>application/json</strong><br>
Accept: <strong>application/json</strong><br>
Parametro: <strong>iddogrupodopedido</strong> //identificador retornado no insert do pedido<br></p>
<p><em>request:</em></p>
<pre><code class="lang-json">{
  &quot;callbackUrl&quot;: &quot;&quot;, //opciona, enviar vazio
  &quot;paymentsArray&quot;: &quot;[{\&quot;paymentSystem\&quot;: 201, //identificador do meio de pagamento
                      \&quot;paymentSystemName\&quot;: \&quot;FastShop\&quot;, //nome do meio de pagamento
                      \&quot;groupName\&quot;: \&quot;\&quot;,
                      \&quot;currencyCode\&quot;:\&quot;BRL\&quot;, //moeda
                      \&quot;installments\&quot;: 1, //numero de parcelas
                      \&quot;value\&quot;: 3190, //valor total do pagamento
                      \&quot;installmentsInterestRate\&quot;: 0, //taxa de juros
                      \&quot;installmentsValue\&quot;: 3190, //valor da parcela
                      \&quot;referenceValue\&quot;: 3190, //valer sem juros
                      \&quot;fields\&quot;: //quando cart&#xE3;o
                                    { \&quot;document\&quot;: \&quot;\&quot;, //documento do cart&#xE3;o
                                    \&quot;accountId\&quot;: \&quot;\&quot;, //identificador do profile do cart&#xE3;o
                                    \&quot;addressId\&quot;: \&quot;\&quot;, //identificador do endere&#xE7;o de cobran&#xE7;a
                                    \&quot;cardNumber\&quot;:\&quot;\&quot;, //numero do cartao
                                    \&quot;holderName\&quot;: \&quot;\&quot;, //nome do cart&#xE3;o
                                    \&quot;dueDate\&quot;: \&quot;\&quot;, //data de validade do cart&#xE3;o
                                    \&quot;validationCode\&quot;: \&quot;\&quot; }, //c&#xF3;digo de seguran&#xE7;a do cart&#xE3;o
                      \&quot;transaction\&quot;: { \&quot;id\&quot;: \&quot;DC55BE31E64B47999ED2FFD001725D07\&quot;, //identificador da transa&#xE7;&#xE3;o retornado no insert do pedido
                                         \&quot;merchantName\&quot;: \&quot;SANDBOXINTEGRACAO\&quot;, //merchant name retornado no insert do pedido
                                         \&quot;payments\&quot;: null}}]&quot;
}
</code></pre>
<p><em>exemplo sem coment&#xE1;rios:</em></p>
<pre><code class="lang-json">{
  <span class="hljs-string">&quot;callbackUrl&quot;</span>: <span class="hljs-string">&quot;&quot;</span>,
  <span class="hljs-string">&quot;paymentsArray&quot;</span>: <span class="hljs-string">&quot;[{\&quot;paymentSystem\&quot;: 201, \&quot;paymentSystemName\&quot;: \&quot;FastShop\&quot;, \&quot;groupName\&quot;: \&quot;\&quot;,\&quot;currencyCode\&quot;:\&quot;\&quot;,\&quot;installments\&quot;: 1, \&quot;value\&quot;: 3190, \&quot;installmentsInterestRate\&quot;: 0, \&quot;installmentsValue\&quot;: 3190, \&quot;referenceValue\&quot;: 3190, \&quot;fields\&quot;: { \&quot;document\&quot;: \&quot;\&quot;, \&quot;accountId\&quot;: \&quot;\&quot;,\&quot;addressId\&quot;: \&quot;\&quot;,\&quot;cardNumber\&quot;:\&quot;\&quot;, \&quot;holderName\&quot;: \&quot;\&quot;, \&quot;dueDate\&quot;: \&quot;\&quot;, \&quot;validationCode\&quot;: \&quot;\&quot; },\&quot;transaction\&quot;: { \&quot;id\&quot;: \&quot;DC55BE31E64B47999ED2FFD001725D07\&quot;, \&quot;merchantName\&quot;: \&quot;SANDBOXINTEGRACAO\&quot;, \&quot;payments\&quot;: null}}]&quot;</span>
}
</code></pre>
<p><em>response:</em></p>
<pre><code class="lang-json"><span class="hljs-number">200</span>
</code></pre>
<p><a name="a6"></a></p>
<h3 id="fechamento-do-fluxo-de-descida-de-pedido"><a name="fechamento-do-fluxo-de-descida-de-pedido" class="plugin-anchor" href="#fechamento-do-fluxo-de-descida-de-pedido"><span class="fa fa-link"></span></a>Fechamento do Fluxo de Descida de Pedido</h3>
<p>Fecha o fluxo de fechamento de pedido - Endpoint do VTEX Marketplace Switch. Esta chamada serve para fechar o fluxo de fechamento do pedido no VTEX Marketplace Switch. O retorno de sucesso desse metodo &#xE9; um status code 302.</p>
<p>endpoint: <code>https://sandboxintegracao.vtexcommercestable.com.br/checkout/gatewayCallback/[iddogrupodopedido]/Success</code><br>
verb: <strong>GET</strong><br>
Content-Type: <strong>application/json</strong><br>
Accept: <strong>application/json</strong><br>
Parametro: <strong>iddogrupodopedido</strong> //identificador retornado no insert do pedido<br></p>
<p><em>response:</em></p>
<pre><code class="lang-json"><span class="hljs-number">302</span>
</code></pre>
<p><a name="a7"></a></p>
<h3 id="aprovar-o-pagamento"><a name="aprovar-o-pagamento" class="plugin-anchor" href="#aprovar-o-pagamento"><span class="fa fa-link"></span></a>Aprovar o Pagamento</h3>
<p>Informa o pagamento do pedido - Endpoint do VTEX Marketplace Switch</p>
<p>endpoint: <code>https://sandboxintegracao.vtexpayments.com.br/api/pvt/payments/[idpagamento]/payment-notification</code><br>
verb: <strong>GET</strong><br>
Content-Type: <strong>application/json</strong><br>
Accept: <strong>application/json</strong><br>
Parametro: <strong>idpagamento</strong> //identificador do pagamento<br></p>
<p><em>response:</em></p>
<pre><code class="lang-json">

</code></pre>
<p><a name="a9"></a></p>
<h3 id="ouvir-o-feed-de-status-de-pedido"><a name="ouvir-o-feed-de-status-de-pedido" class="plugin-anchor" href="#ouvir-o-feed-de-status-de-pedido"><span class="fa fa-link"></span></a>Ouvir o Feed de Status de Pedido</h3>
<p>Ouvir o feed de status de pedido - Endpoint do VTEX Marketplace Switch. O aplicativo deve se increver no feed de status de pedidos, ouvir e tratar o status que lhe interessa e confirmar. Os status que vai ignorar devem somente ser confirmados.</p>
<p><a href="http://lab.vtex.com/docs/oms/api/latest/feed/index.html" target="_blank">http://lab.vtex.com/docs/oms/api/latest/feed/index.html</a></p>
<blockquote>
<p>1) Quanto tempo o registro fica na fila do feed antes de ser exclu&#xED;do automaticamente?</p>
<blockquote>
<p>R.: Uma semana</p>
</blockquote>
<p>2) Por que mesmo a fila estando &quot;cheia&quot;, hora vem 5 registros, hora vem 10 registros?</p>
<blockquote>
<p>R.: Os dados s&#xE3;o particionados. Por isso pode acontecer isso (&#xE9; normal).</p>
</blockquote>
<p>3) Consigo aumentar a quantidade de registros que s&#xE3;o entregues a cada requisi&#xE7;&#xE3;o?</p>
<blockquote>
<p>R.: Pode se usar o par&#xE2;metro maxLot (ex: maxLot=3) e o maximo &#xE9; 10.</p>
</blockquote>
<p>4) Existe alguma change de um status deixar se ser enviado na fila?</p>
<blockquote>
<p>R.: N&#xE3;o. A princ&#xED;pio s&#xF3; um  desastre (nos Data Centers) - nada &#xE9; 100% seguro.
       Obs.: Ap&#xF3;s o in&#xED;cio do consumo dos itens do feed, n&#xE3;o &#xE9; aconselhado parar de consumir-los por mais de 4 dias.</p>
</blockquote>
<p>5) Se 2 sistemas difererentes desejam consumir o feed para objetivos diferentes, &#xE9; necess&#xE1;rio criar uma outra app-key.</p>
<blockquote>
<p>R.: Sim. Se usar o mesmo usu&#xE1;rio vai concorrer e consumir a mesma fila.</p>
</blockquote>
<p>6) o que fa&#xE7;o com os status que n&#xE3;o me interessa?</p>
<blockquote>
<p>R.: Eles devem ser descartados confirmado os mesmo na fila.</p>
</blockquote>
</blockquote>
<p>Esses s&#xE3;o os passos que devem ser seguidos para a integra&#xE7;&#xE3;o com o VTEX Marketplace Switch.</p>
<blockquote>
<p>POR LER ATE AQUI</p>
<blockquote>
<p>Na ferramenta POSTMAN usando esse link <code>https://www.getpostman.com/collections/00738f3e2732d6aa736a</code> &#xE9; poss&#xED;vel importar uma cole&#xE7;&#xE3;o de requests. Nela tem um exemplo de cada request citado nesse documento.</p>
</blockquote>
</blockquote>
<hr>
<p>Autor: <em>Jonas Bolognim</em><br>
Propriedade:<em>VTEX &#xA9;</em><br></p>

                    
                    </section>
                
                
                </div>
            </div>
        </div>

        
        <a href="../../../integracao/marketplace/seller-não-vtex-com-pgto/index.html" class="navigation navigation-prev " aria-label="Previous page: Seller não VTEX c/ pagto"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="../../../plugins/lib/latest/expiration/index.html" class="navigation navigation-next " aria-label="Next page: Plugins"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
<script src="../../../gitbook/app.js"></script>

    
    <script src="../../../gitbook/plugins/gitbook-plugin-ga/plugin.js"></script>
    

    
    <script src="../../../gitbook/plugins/gitbook-plugin-toggle-chapters/toggle.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {"fontSettings":{"theme":null,"family":"sans","size":2},"ga":{"token":"UA-43760863-11","configuration":"auto"}};
    gitbook.start(config);
});
</script>

        <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create', 'UA-43760863-11', 'auto');ga('send', 'pageview');</script>
<!-- body:end -->
    </body>
    <!-- End of book VTEX Lab Docs -->
</html>
